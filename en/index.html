<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>UrbanTimeVienna</title>
<meta content="UrbanTimeVienna – elegant watch culture with a hint of Pop Art." name="description"/>
<script>
  // Language preference (DE default). Redirect based on stored choice.
  (function () {
    try {
      var preferred = localStorage.getItem("utv_lang"); // "de" | "en" | null
      var path = (location.pathname || "").replace(/\/g, "/");
      var onEN = /\/en\/(?:$|index\.html$)/i.test(path) || /\/en\//i.test(path);
      if (preferred === "en" && !onEN) { location.replace("en/"); return; }
      if (preferred === "de" && onEN) { location.replace("../index.html"); return; }
    } catch (e) {}
  })();;
</script>
<style>
    :root{
      --bg: #07070a;
      --panel: rgba(255,255,255,.06);
      --border: rgba(255,255,255,.14);
      --text: rgba(255,255,255,.88);
      --muted: rgba(255,255,255,.62);

      /* Accent (Logo-Cyan) */
      --pop-cyan: #2de2ff;

      --shadow: 0 20px 60px rgba(0,0,0,.45);
      --radius: 22px;
    }

    *{ box-sizing: border-box; }
    html{ scroll-behavior: smooth; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, sans-serif;
      color: var(--text);
      background:
        radial-gradient(1200px 600px at 10% 10%, rgba(45,226,255,0.12), transparent 60%),
        radial-gradient(900px 500px at 80% 20%, rgba(255,59,212,0.08), transparent 60%),
        linear-gradient(180deg, #060608 0%, #07070a 40%, #050507 100%);
      overflow-x:hidden;
    }

    a{ text-decoration: none; color: inherit; transition: all 0.2s ease; }
    img{ max-width: 100%; display:block; }

    /* ===== Header ===== */
    .header{
      position: sticky; top: 0; z-index: 100;
      backdrop-filter: blur(16px);
      background: rgba(7,7,10,0.75);
      border-bottom: 1px solid var(--border);
    }
    .header-inner{
      max-width: 1100px; margin: 0 auto; padding: 12px 18px;
      display:flex; align-items:center; justify-content: space-between;
      gap: 16px;
    }

    .brand{ display:flex; align-items:center; gap: 12px; }
    .brand-badge{
      width: 44px; height: 44px; border-radius: 12px;
      background-color: #000;
      background-image: url('logo.png');
      background-position: center;
      background-size: cover;
      border: 1px solid rgba(255,255,255,0.2);
      box-shadow: 0 4px 15px rgba(0,0,0,0.5);
      transition: transform 0.3s ease;
      }
    .brand:hover .brand-badge{ transform: scale(1.05) rotate(-3deg); }

    .brand-text{
      font-weight: 800; text-transform: uppercase; letter-spacing: 1px; font-size: 16px;
      line-height: 1.2;
    }
    .brand-text span{ color: var(--pop-cyan); display:block; font-size: .82em; letter-spacing: 2px; font-weight: 700; }

    .nav{ display:flex; gap: 10px; align-items:center; flex-wrap: wrap; justify-content: flex-end; }
    .nav a{
      font-size: 14px; color: var(--muted);
      padding: 8px 14px; border-radius: 999px;
      border: 1px solid transparent;
      white-space: nowrap;
    }
    .nav a:hover{ color: var(--text); background: rgba(255,255,255,0.08); }

    .nav .reels{
      background: rgba(45,226,255,0.10);
      border: 1px solid rgba(45,226,255,0.30);
      color: #fff;
    }
    .nav .reels:hover{
      background: var(--pop-cyan);
      color: #000;
      box-shadow: 0 0 15px rgba(45,226,255,0.4);
    }


    /* ===== Language Switch (Flag dropdown) ===== */
    .lang-dropdown{
      position: relative;
      display:flex;
      align-items:center;
      margin-left: 10px; /* gap after Reels */
    }
    .lang-current{
      width: 38px;
      height: 38px;
      display:grid;
      place-items:center;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.04);
      padding: 0;
      cursor: pointer;
      line-height: 0;
    }
    .lang-current:hover{
      background: rgba(255,255,255,0.08);
      border-color: rgba(45,226,255,0.35);
    }
    .lang-current img{
      width: 22px;
      height: 22px;
      border-radius: 4px;
      display:block;
    }
    .lang-menu{
      position:absolute;
      right: 0;
      top: calc(100% + 8px);
      padding: 8px;
      border-radius: 14px;
      border: 1px solid var(--border);
      background: rgba(7,7,10,0.92);
      backdrop-filter: blur(14px);
      box-shadow: var(--shadow);
      display: none;
      z-index: 200;
    }
    .lang-dropdown.is-open .lang-menu{ display:block; }
    .lang-option{
      width: 38px;
      height: 38px;
      display:grid;
      place-items:center;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.04);
      line-height: 0;
    }
    .lang-option:hover{
      background: rgba(255,255,255,0.10);
      border-color: rgba(45,226,255,0.35);
    }
    .lang-option img{
      width: 22px;
      height: 22px;
      border-radius: 4px;
      display:block;
    }

/* ===== Layout ===== */
    .container{ max-width: 1100px; margin: 0 auto; padding: 20px 18px 80px; }

    .card{
      border: 1px solid var(--border);
      background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.04));
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }

    /* ===== Hero ===== */
    .hero{ display:grid; grid-template-columns: 1.1fr 0.9fr; gap: 24px; margin: 22px 0 42px; }
    .hero-left{ padding: 40px 30px; display:flex; flex-direction: column; justify-content:center; }

    .kicker{
      display:flex; align-items:center; gap: 10px;
      color: var(--pop-cyan); font-size: 12px; font-weight: 800;
      text-transform: uppercase; letter-spacing: 2px; margin-bottom: 15px;
    }
    .dot{ width: 8px; height: 8px; border-radius: 50%; background: var(--pop-cyan); box-shadow: 0 0 10px var(--pop-cyan); }

    h1{
      font-size: clamp(34px, 4.5vw, 52px);
      margin: 0 0 18px;
      line-height: 1.05;
      letter-spacing: -1px;
    }
    .sub{
      color: var(--muted);
      font-size: 16px;
      line-height: 1.6;
      margin: 0 0 28px;
      max-width: 520px;
    }

    .cta-row{ display:flex; gap: 12px; flex-wrap: wrap; }
    .btn{
      padding: 12px 24px;
      border-radius: 12px;
      font-weight: 700;
      font-size: 14px;
      display:inline-flex; align-items:center; gap: 8px;
      border: 1px solid transparent;
    }
    .btn.primary{ background: var(--pop-cyan); color: #050507; border-color: var(--pop-cyan); }
    .btn.secondary{ background: rgba(255,255,255,0.05); border-color: var(--border); color: var(--text); }
    .btn:hover{ transform: translateY(-2px); }

    /* Hero-right: slider should reach the card edges (no inset padding) */
    .hero-right{ padding: 0; display:flex; flex-direction: column; gap: 15px; }

    /* FIX: Make the slider (lighter area) fill the full card height */
    .hero-right #heroSlider{
      flex: 1 1 auto;
      min-height: 320px;
      height: 100%;
    }

    .poster{
      flex: 1;
      border-radius: 16px;
      border: 1px solid var(--border);
      min-height: 330px;
      position: relative;
      overflow: hidden;
      background: #0e0e12 url('hero.jpg') center/cover no-repeat;
    }
    .poster::before{
      content:"";
      position:absolute; inset:0;
      background:
        radial-gradient(800px 360px at 20% 25%, rgba(45,226,255,0.10), transparent 60%),
        linear-gradient(180deg, rgba(0,0,0,0.18), rgba(0,0,0,0.35));
      pointer-events:none;
    }
    .poster-badge{
      position:absolute; top: 14px; left: 14px;
      padding: 8px 12px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: 900;
      letter-spacing: 2px;
      text-transform: uppercase;
      background: rgba(0,0,0,0.45);
      border: 1px solid rgba(45,226,255,0.35);
      box-shadow: 0 0 0 1px rgba(255,255,255,0.05) inset, 0 10px 25px rgba(0,0,0,0.35);
      backdrop-filter: blur(8px);
    }
    .poster-badge span{
      color: var(--pop-cyan);
      margin-left: 8px;
      font-weight: 900;
      letter-spacing: 1px;
    }
    .poster-caption{
      position:absolute; left: 14px; right: 14px; bottom: 14px;
      padding: 12px 14px;
      border-radius: 14px;
      background: rgba(0,0,0,0.40);
      border: 1px solid rgba(255,255,255,0.12);
      color: rgba(255,255,255,0.82);
      font-size: 13px;
      line-height: 1.35;
      backdrop-filter: blur(8px);
    }
    .poster-caption b{ color: #fff; }

    /* ===== Sections ===== */
    .section{ margin-top: 44px; }
    /* Less spacing between purchase CTA and order form */
    #bestellformular.section{ margin-top: 24px; }
    .section-head{
      margin-bottom: 18px;
      display:flex; align-items:flex-end; justify-content: space-between;
      gap: 16px;
    }
    .section-head h2{ margin:0; font-size: 24px; }
    .section-head p{ margin: 6px 0 0; color: var(--muted); font-size: 14px; }

    
    .accent{ color: var(--pop-cyan); font-weight: 850; }

    /* About (Glass Look) */
    .about-card{
      padding: 22px 26px;
      position: relative;
      overflow: hidden;
    }
    .about-card::before{
      content:"";
      position:absolute; inset:-40px -60px auto -60px;
      height: 180px;
      background: radial-gradient(420px 180px at 30% 40%, rgba(45,226,255,0.16), transparent 60%);
      pointer-events:none;
    }
    .about-head{
      position: relative;
      display:flex;
      gap: 14px;
      align-items:center;
      margin-bottom: 10px;
    }
    .about-crown{
      width: 44px; height: 44px;
      filter: drop-shadow(0 14px 30px rgba(0,0,0,.45));
      opacity: .95;
    }
    .about-eyebrow{
      font-size: 12px;
      letter-spacing: 2px;
      text-transform: uppercase;
      color: rgba(255,255,255,.62);
      font-weight: 850;
      margin-bottom: 4px;
    }
    .about-title h2{
      margin:0;
      font-size: 24px;
      letter-spacing: -.2px;
    }
    .about-text{
      position: relative;
      margin: 10px 0 0;
      color: var(--muted);
      font-size: 14.5px;
      line-height: 1.7;
      max-width: 920px;
    }
    .about-text:first-of-type{ margin-top: 6px; }

    @media (max-width: 520px){
      .about-section{ margin-top: 26px; }
      .about-card{ padding: 18px 16px; }
      .about-crown{ width: 38px; height: 38px; }
      .about-title h2{ font-size: 22px; }
      .about-text{ font-size: 14px; }
    }
/* Highlights */
    .highlights{
      display:grid; grid-template-columns: repeat(3, 1fr); gap: 16px;
    }
    .hl{
      border-radius: 18px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.03);
      padding: 16px;
      transition: transform .25s ease, border-color .25s ease;
    }
    .hl:hover{ transform: translateY(-3px); border-color: rgba(45,226,255,0.35); }
    .hl .icon{
      width: 38px; height: 38px; border-radius: 12px;
      display:grid; place-items:center;
      border: 1px solid rgba(45,226,255,0.25);
      background: rgba(45,226,255,0.10);
      margin-bottom: 12px;
      font-weight: 900;
      color: var(--pop-cyan);
    }
    .hl h3{ margin: 0 0 6px; font-size: 16px; }
    .hl p{ margin:0; color: var(--muted); font-size: 13px; line-height: 1.5; }

    /* Collection Grid */
    .grid{ display:grid; grid-template-columns: repeat(3, 1fr); gap: 20px; }
    .item{
      background: rgba(255,255,255,0.03);
      border: 1px solid var(--border);
      border-radius: 18px;
      padding: 16px;
      transition: border-color 0.3s ease, transform 0.3s ease;
      overflow:hidden;
    }
    .item:hover{ border-color: rgba(45,226,255,0.45); transform: translateY(-4px); }

    .thumb{
      height: 190px;
      background: rgba(0,0,0,0.25);
      border-radius: 12px;
      margin-bottom: 14px;
      overflow:hidden;
      border: 1px solid rgba(255,255,255,0.10);
      position: relative;
    }
    .thumb img{
      width: 100%;
      height: 100%;
      object-fit: cover;
      transform: none;
      filter: saturate(1.02) contrast(1.02);
    }
    /* dezente Overlay-Glanzschicht für alle Thumbnails */
    .thumb::before{
      content:"";
      position:absolute; inset:0;
      background: radial-gradient(600px 220px at 20% 20%, rgba(45,226,255,0.10), transparent 60%),
                  linear-gradient(180deg, rgba(0,0,0,0.10), rgba(0,0,0,0.22));
      pointer-events:none;
    }

    .tag{
      font-size: 12px; font-weight: 900;
      text-transform: uppercase; letter-spacing: 1px;
      color: var(--pop-cyan);
      border: 1px solid rgba(45,226,255,0.22);
      background: rgba(45,226,255,0.08);
      padding: 5px 12px;
      border-radius: 999px;
      display:inline-block;
      margin-bottom: 10px;
    }
    .item h3{ margin: 0 0 6px; font-size: 18px; }
    .item p{ margin:0; font-size: 13px; color: var(--muted); line-height: 1.5; }

    footer{ text-align:center; padding: 60px 0 20px; color: rgba(255,255,255,0.32); font-size: 12px; }
    footer .footer-note{ margin-top: 6px; color: rgba(255,255,255,0.40); }

    /* ===== Responsive ===== */
    
    /* ===== Modal Gallery (Produktbilder) ===== */
    .product-card{ cursor: pointer; }
    .product-card .thumb{ position: relative; overflow: hidden; }
    .product-card .card-badge{
      position:absolute; top: 12px; left: 12px;
      padding: 6px 10px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: 900;
      letter-spacing: .3px;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.35);
      backdrop-filter: blur(10px);
      color: #fff;
      z-index: 3;
    }
    .product-card .card-badge.good{ border-color: rgba(45,226,255,.45); background: rgba(45,226,255,.14); color: #eaffff; }
    .product-card .card-badge.warn{ border-color: rgba(255,208,0,.45); background: rgba(255,208,0,.14); color: #fff7cc; }
    .product-card .thumb::after{
      content: "More photos";
      position: absolute; left: 10px; bottom: 10px;
      padding: 6px 10px; border-radius: 999px;
      font-size: 11px; font-weight: 700; letter-spacing: .5px;
      color: #000; background: var(--pop-cyan);
      opacity: 0; transform: translateY(6px);
      transition: all .25s ease;
      box-shadow: 0 10px 30px rgba(0,0,0,.35);
    }
    .product-card:hover .thumb::after{ opacity: 1; transform: translateY(0); }

    /* Nur Urban Chrono: andere Overlay-Beschriftung */
    .product-card.more-models .thumb::after{ content: "More models available"; }

    /* Abschnitt-spezifische Overlay-Beschriftungen */
    #kollektion .product-card .thumb::after{ content: "Buy now"; }
    #bestellbar .product-card .thumb::after{ content: "More models available"; }

    .modal{
      position: fixed; inset: 0; z-index: 999;
      display: none; align-items: center; justify-content: center;
      padding: 18px;
      background: rgba(0,0,0,.65);
      backdrop-filter: blur(10px);
    }
    .modal.open{ display:flex; }
    .modal-card{
      width: min(920px, 100%);
      /* avoid mobile address-bar "vh" jump */
      max-height: calc(100vh - 36px);
      max-height: calc(100svh - 36px);
      overflow: hidden;
    }
    .modal-top{
      display:flex; align-items:flex-start; justify-content: space-between;
      padding: 12px 12px 0;
      gap: 16px;
    }
    .modal-badges{ display:flex; gap:8px; flex-wrap:wrap; margin-bottom:8px; }
    .badge{
      display:inline-flex; align-items:center; gap:8px;
      padding: 6px 10px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: 800;
      letter-spacing: .3px;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.06);
      color: var(--text);
    }
    .badge.good{ border-color: rgba(45,226,255,.35); background: rgba(45,226,255,.10); color: #eaffff; }
    .badge.warn{ border-color: rgba(255,208,0,.35); background: rgba(255,208,0,.10); color: #fff7cc; }
    .badge.ghost{ border-color: rgba(255,255,255,.12); background: rgba(0,0,0,.10); color: var(--muted); font-weight:700; }
    .modal-top h3{ margin: 0; font-size: 18px; }
    .modal-top .meta{ margin: 6px 0 0; color: var(--muted); font-size: 13px; }
    .icon-btn{
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.06);
      color: var(--text);
      width: 40px; height: 40px; border-radius: 12px;
      cursor: pointer;
    }
    .icon-btn:hover{ border-color: rgba(45,226,255,0.45); }

    .modal-body{
      display: grid; grid-template-columns: 1fr 280px;
      gap: 12px;
      padding: 12px;
      align-items: start;
    }

    .modal-side .order-box{ display:flex; flex-direction:column; gap: 10px; }

    .price-box{
      border: 1px solid rgba(255,255,255,.14);
      border-radius: 16px;
      padding: 12px;
      background: rgba(0,0,0,.18);
      backdrop-filter: blur(10px);
    }
    .price-kicker{ font-size: 12px; color: var(--muted); letter-spacing: 1px; text-transform: uppercase; font-weight: 800; }
    .price-big{ font-size: 22px; font-weight: 900; margin-top: 6px; }
    .price-sub{ font-size: 12px; color: var(--muted); margin-top: 2px; }

    .qty{
      display:flex; align-items:center; justify-content:space-between;
      gap: 12px;
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      padding: 10px 12px;
      background: rgba(0,0,0,.14);
    }
    .qty-title{ font-weight: 900; font-size: 13px; }
    .qty-sub{ font-size: 12px; color: var(--muted); margin-top: 2px; }
    .qty-controls{
      display:flex; align-items:center;
      border: 1px solid rgba(255,255,255,.14);
      border-radius: 999px;
      overflow:hidden;
      background: rgba(255,255,255,.04);
    }
    .qty-btn{
      width: 40px; height: 36px;
      border: none;
      background: transparent;
      color: var(--text);
      cursor:pointer;
      font-size: 18px;
    }
    .qty-btn:hover{ background: rgba(255,255,255,.06); }
    .qty-val{ width: 44px; height: 36px; display:grid; place-items:center; font-weight: 900; }

    .trust{
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      padding: 10px 12px;
      background: rgba(255,255,255,.04);
      color: var(--muted);
      font-size: 12.5px;
    }
    .trust-row{ padding: 4px 0; }

    .modal-actions-sticky{
      position: relative;
      bottom: auto;
      padding-top: 10px;
      margin-top: 4px;
      background: linear-gradient(180deg, rgba(7,7,10,0) 0%, rgba(7,7,10,0.85) 22%, rgba(7,7,10,0.95) 100%);
      border-top: 1px solid rgba(255,255,255,.10);
    }
    
.modal-media{
  position: relative;
  border-radius: 16px;
  overflow: hidden;
  border: 1px solid var(--border);
  background: #0e0e12;
  display:flex;
  flex-direction:column;
}
.media-stage{
  position: relative;
  min-height: 300px;
  /* stable viewport units so the image doesn't "jump" on mobile */
  height: min(calc(68vh - 90px), 560px);
  height: min(calc(68svh - 90px), 560px);
  display:flex; align-items:center; justify-content:center;
}
    .main-image{
      width: 100%; height: 100%;
      object-fit: contain; /* schärfer & nichts abschneiden */
      display:block;
      transition: transform 160ms ease;
      transform-origin: var(--zoom-x, 50%) var(--zoom-y, 50%);
      will-change: transform;
    }
@media (prefers-reduced-motion: reduce){
      .main-image{ transition: none; }
    }
    .nav-btn{
      position: absolute; top: 50%;
      transform: translateY(-50%);
      width: 44px; height: 44px;
      border-radius: 14px;
      border: 1px solid var(--border);
      background: rgba(0,0,0,.35);
      color: #fff;
      cursor: pointer;
      display:flex; align-items:center; justify-content:center;
      font-size: 22px; font-weight: 800;
      backdrop-filter: blur(8px);
    }
    .nav-btn:hover{ border-color: rgba(45,226,255,0.55); }
    #galleryPrev{ left: 12px; }
    #galleryNext{ right: 12px; }

    .modal-side{
      padding-left: 0;
      padding-right: 2px;
      display:flex;
      flex-direction: column;
      gap: 12px;

      /* let .modal-body handle scrolling */
      max-height: none;
      overflow: visible;
    }
    .thumbs{
      display:flex; flex-wrap: wrap; gap: 10px;
      align-content: flex-start;
    }
    .thumb-btn{
      width: 54px; height: 54px; /* kompakter */
      border-radius: 14px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.03);
      padding: 0;
      cursor: pointer;
      overflow: hidden;
    }
    .thumb-btn img{ width: 100%; height: 100%; object-fit: cover; display:block; }
    .thumb-btn.active{
      border-color: var(--pop-cyan);
      box-shadow: 0 0 0 2px rgba(45,226,255,.18);
    }


/* Thumbnails unter dem Bild (Desktop + Mobile) */
.thumbs.thumbs-under{
  flex-wrap: nowrap;
  overflow-x: auto;
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;
  gap: 10px;
  padding: 10px 10px 12px;
  border-top: 1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.16);
  scroll-snap-type: x mandatory;
}
.thumbs.thumbs-under .thumb-btn{ scroll-snap-align: start; }    .modal-hint{
      margin: 0;
      color: rgba(255,255,255,0.35);
      font-size: 12px;
      line-height: 1.4;
    }

    .order-box{
      margin-top: 4px;
      padding: 12px;
      border-radius: 16px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.03);
    }
    .order-box .btn{ width: 100%; justify-content: center; }
    .order-note{
      margin: 10px 0 0;
      font-size: 12px;
      color: rgba(255,255,255,0.55);
      line-height: 1.35;
    }

    @media (max-width: 850px){
  /* Mobile: alles in EINEM Scrollbereich (wie DE) */
  .modal-body{
    grid-template-columns: 1fr;
    max-height: calc(100vh - 120px);
    max-height: calc(100dvh - 120px);
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }
  .modal-side{
    max-height: none;
    overflow: visible;
    padding-left: 0;
    padding-right: 0;
  }
  .modal-side-scroll{
    overflow: visible;
    flex: none;
    padding-right: 0;
  }
  .modal-actions-sticky{
    position: static;
    background: none;
    border-top: 0;
    padding-top: 12px;
  }
  .media-stage{ min-height: 260px; }
}


    @media (max-width: 900px){
      .hero{ grid-template-columns: 1fr; }
      .highlights{ grid-template-columns: 1fr; }
      .grid{ grid-template-columns: 1fr 1fr; }
    }
    @media (max-width: 550px){
      .grid{ grid-template-columns: 1fr; }
      .header-inner{ flex-direction: column; align-items: stretch; }
      .nav{ justify-content: flex-start; }
      .hero-left{ padding: 34px 24px; }
    }
  
.order-btn{
  display:inline-block;
  margin-top:12px;
  padding:8px 14px;
  border-radius:999px;
  background: var(--pop-cyan);
  color:#050507;
  font-size:12px;
  font-weight:700;
}
.order-btn:hover{opacity:.9}


    /* Subtle crown pattern background */
    body::before{
      content:"";
      position: fixed;
      inset: 0;
      background-image: url("../assets/crown-logo.png");
      background-repeat: repeat;
      background-size: 110px 110px;
      background-position: 0 0;
      opacity: .03; /* subtle */
      pointer-events: none;
      z-index: 0;
    }
    body > *{
      position: relative;
      z-index: 1;
    }


/* Kaufablauf */
.steps{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(220px, 1fr));
  gap:16px;
  margin-top:18px;
}
.step{
  padding:16px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(10,10,10,.55);
  border-radius:16px;
  backdrop-filter: blur(8px);
}
.step h3{ margin:8px 0 6px; }
.step p{ margin:0; opacity:.92; }
.step-num{
  width:34px; height:34px;
  display:grid; place-items:center;
  border-radius:999px;
  background:rgba(0, 188, 212, .16);
  color:var(--pop-cyan);
  font-weight:800;
}
.notice{ margin-top:18px; padding: 24px 26px 26px; }
.notice h3{ margin:0 0 14px; }
.notice ul{
  list-style:none;
  padding:0;
  margin: 0 0 18px;
  display:grid;
  gap:10px;
}
.notice li{ margin:0; display:flex; gap:14px; align-items:flex-start; }
.notice li strong{ flex: 0 0 130px; }
.notice li span{ flex:1; color: rgba(255,255,255,.78); line-height: 1.45; }
.notice .order-btn{ margin: 6px 0 0; display:inline-flex; }




/* --- Order actions & form --- */
.order-actions{display:flex; gap:10px; flex-wrap:wrap; margin-bottom:10px;}
.order-actions .btn{flex:1; min-width:200px;}
.order-actions .movement-picker{flex:1 1 100%; width:100%;}

.order-box .order-note{margin-top:8px;}

.order-form{margin-top:16px;}
.order-form-heading{margin-top:28px; margin-bottom:12px; font-size:1.35rem; line-height:1.2;}
.form-grid{display:grid; grid-template-columns:1fr 1fr; gap:14px;}
.field{display:flex; flex-direction:column; gap:6px;}
.field label{font-weight:600;}
.field input,.field textarea,.field select{
  background:rgba(255,255,255,0.06);
  border:1px solid rgba(255,255,255,0.12);
  color:var(--text);
  border-radius:12px;
  padding:12px 12px;
  outline:none;
}
.field select:invalid{ color: var(--muted); }
/* Dropdown-Liste: bei manchen Browsern ist der Hintergrund hell (weiß).
   Deshalb Option-Text dunkel setzen, damit er immer lesbar ist. */
.field select option{ color:#111; background:#fff; }
.field select option[value=""]{ color:#777; }
.field input:focus,.field textarea:focus,.field select:focus{border-color:rgba(255,255,255,0.28);}
.field-full{grid-column:1 / -1;}
.hint{color:var(--muted); font-size:0.9rem; margin-top:6px;}
.check{display:flex; gap:10px; align-items:flex-start; color:var(--muted); font-size:0.95rem;}
.check input{margin-top:4px;}
.form-buttons{display:flex; gap:10px; flex-wrap:wrap; margin-top:14px;}
.form-buttons .btn{min-width:220px;}
.form-note{margin-top:10px; color:var(--muted);}

/* --- Selected variant preview in order form --- */
.variant-preview{
  display:none;
  margin: 0 0 14px;
  padding: 12px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.04);
  border-radius: 16px;
}
.variant-preview-inner{
  display:flex;
  gap: 12px;
  align-items:center;
  flex-wrap:wrap;
}
.variant-preview img{
  width: 120px;
  height: auto;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.16);
  background: rgba(0,0,0,.35);
}
.variant-preview .vp-text{
  font-size: 14px;
  color: var(--muted);
  line-height: 1.35;
}
.variant-preview .vp-text b{ color: var(--text); }

@media (max-width: 760px){
  .form-grid{grid-template-columns:1fr;}
  .order-actions .btn{min-width:0;}
  .form-buttons .btn{min-width:0; flex:1;}
}


    /* Modal: zwei Buttons gleich breit und kompakt */
    .order-actions{ display:flex; gap:10px; flex-wrap:wrap; }
    .order-actions .btn{ flex:1 1 220px; text-align:center; }
/* ===== Mobile / Touch Optimierung ===== */
@media (hover: none), (pointer: coarse){
  /* Kein "Hover-Shift" & kein zusätzliches Thumbnail-Zoom */
  .item:hover{ transform: none; border-color: var(--border); }
  .btn:hover{ transform: none; }
  .thumb img{ transform: none; }

  /* Tap fühlt sich cleaner an */
  .product-card{ -webkit-user-select: none; user-select: none; }

  .product-card, .btn, .thumb-btn, .nav-btn, .icon-btn, .order-btn{
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
  }
}

.modal-side{
    max-height: none;
    overflow: visible;
    padding-right: 0;
  }
}


@media (max-width: 760px){
  /* iOS Safari: verhindert das automatische "Reinzoomen" bei Formular-Fokus */
  .field input, .field textarea{ font-size: 16px; }
}



    /* --- Product card description (cleaner layout) --- */
    .product-card .teaser{margin:0 0 10px 0;color:var(--muted);line-height:1.45;}
    .product-card .keypoints, .product-card .specs{margin:0;padding:0;list-style:none;display:grid;gap:6px;}
    .product-card .keypoints li, .product-card .specs li{padding-left:12px;position:relative;line-height:1.35;}
    .product-card .keypoints li::before, .product-card .specs li::before{content:"•";position:absolute;left:0;top:0;opacity:.7;}
    .product-card details.more{margin-top:10px;}
    .product-card details.more summary{cursor:pointer;color:rgba(120,255,240,.9);font-weight:600;list-style:none;}
    .product-card details.more summary::-webkit-details-marker{display:none;}
    .product-card details.more[open] summary{margin-bottom:8px;}


/* --- Hero Slider (3 slides) --- */
.hero-slider{
  position:relative;
  border-radius: var(--radius);
  overflow:hidden;
  min-height: 320px;
  height: 100%;
}
.hero-slides{position:relative; height:100%;}
.hero-slide{
  position:absolute;
  inset:0;
  opacity:0;
  transform: translateY(6px);
  transition: opacity .35s ease, transform .35s ease;
  pointer-events:none;
}
.hero-slide.is-active{
  opacity:1;
  transform: translateY(0);
  pointer-events:auto;
}
/* Truly centered slide content (same top/bottom padding) */
.slide-inner{height:100%; display:flex; flex-direction:column; justify-content:center; padding:78px 18px 78px 18px;}

/* UPDATE: Margin oben auf 0, unten leicht reduziert */
.slide-brand{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap: 8px;
  margin: 0 auto 6px;
  text-align:center;
}
.slide-crown{
  width: 88px;
  max-width: 100%;
  height:auto;
  opacity: .96;
  filter: brightness(0) invert(1) drop-shadow(0 0 14px rgba(255,255,255,.14)) drop-shadow(0 0 18px rgba(120,255,240,.12));
}
.slide-brand-top{
  font-size: 30px;
  font-weight: 900;
  letter-spacing: 3px;
  line-height: 1.05;
}
.slide-brand-bottom{
  margin-top: -4px;
  font-size: 18px;
  font-weight: 800;
  letter-spacing: 8px;
  color: var(--pop-cyan);
  text-transform: uppercase;
}

.slide-title{
  font-size: 20px;
  font-weight: 800;
  letter-spacing: .2px;
  margin: 6px 0 8px;
  text-align:center;
}
.slide-text{
  font-size: 13.5px; /* slightly smaller to match DE layout */
  color: var(--muted);
  line-height: 1.45;
  text-align:center;
  margin: 6px 0 10px;
}
.slide-list{
  list-style:none;
  padding:0;
  margin: 10px 0 12px;
  display:grid;
  gap:8px;
}
.slide-list li{
  padding:10px 12px;
  border:1px solid rgba(255,255,255,.10);
  border-radius:12px;
  background: rgba(0,0,0,.16);
}
.slide-actions{
  display:flex;
  gap:10px;
  justify-content:center;
  flex-wrap:wrap;
  margin-top: 10px;
  margin-bottom: 26px;
}
.hero-dots{
  position:absolute;
  left:50%;
  transform:translateX(-50%);
  bottom:5px; /* UPDATE: Tiefer gesetzt (vorher 8px) */
  z-index:10;
  display:flex;
  gap:10px;
  justify-content:center;
  padding:8px 12px;
  border-radius:999px;
  background: rgba(0,0,0,.35);
  border:1px solid rgba(255,255,255,.10);
  z-index:10;
}
.dotnav{
  width:12px; height:12px;
  border-radius:999px;
  border:1px solid rgba(120,255,240,.65);
  background: rgba(255,255,255,.12);
  cursor:pointer;
  box-shadow: 0 0 12px rgba(120,255,240,.18);
}
.dotnav.is-active{
  background: rgba(120,255,240,.95);
  border-color: rgba(120,255,240,.95);
  box-shadow: 0 0 16px rgba(120,255,240,.35);
}
.hero-right .hero-slider{background: rgba(255,255,255,.02);}


/* ===== Movement picker (Uhrwerk Auswahl) ===== */
.movement-picker{
  margin: 12px 0 10px;
  padding: 10px 12px;
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 14px;
  background: rgba(0,0,0,.18);
  backdrop-filter: blur(8px);
}
.movement-picker .mp-title{
  font-weight: 600;
  font-size: 13px;
  opacity: .9;
  margin-bottom: 8px;
}
.movement-picker .mp-grid{
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}
.movement-picker .mp-item{
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.14);
  cursor: pointer;
  user-select: none;
}
.movement-picker .mp-item input{
  -webkit-appearance: none;
  appearance: none;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  border: 2px solid rgba(120,255,240,.55);
  background: rgba(0,0,0,.18);
  box-shadow: inset 0 0 0 2px rgba(0,0,0,.35);
  transform: translateY(0.5px);
  cursor: pointer;
}
.movement-picker .mp-item input:checked{
  background: rgba(120,255,240,.95);
  border-color: rgba(120,255,240,.95);
  box-shadow: 0 0 14px rgba(120,255,240,.35);
}
.movement-picker .mp-item.is-selected{
  border-color: rgba(120,255,240,.55);
  background: rgba(120,255,240,.08);
}
.movement-picker .mp-item:hover{
  border-color: rgba(120,255,240,.45);
}

.movement-picker .mp-label{
  font-size: 13px;
  white-space: nowrap;
}


.movement-desc{
  margin: 6px 0 12px;
  padding: 10px 12px;
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 14px;
  background: rgba(0,0,0,.14);
  color: var(--muted);
  font-size: 12.5px;
  line-height: 1.45;
}
.movement-desc strong{ color: var(--text); font-weight: 800; }
.movement-desc ul{ margin: 8px 0 0 18px; padding: 0; }
.movement-desc li{ margin: 4px 0; }



/* ===== Privatverkaufsbedingungen (Popup) ===== */
.terms-link{
  color: var(--pop-cyan);
  text-decoration: underline;
  text-underline-offset: 2px;
}
.terms-link:hover{ opacity: .9; }

.terms-modal .modal-card{ width: min(760px, 100%); }
.terms-modal .modal-body{ display:block; padding: 18px; overflow:auto; }
.terms-modal .terms-content p{ margin: 0 0 12px; color: var(--text); }
.terms-modal .terms-content ul{ margin: 0 0 12px 18px; padding: 0; color: var(--text); }
.terms-modal .terms-content li{ margin: 6px 0; color: var(--text); }


/* ===== Premium Cards Variant A (Glass) ===== */
.hero-right .hero-slide{ padding: 16px; }
.hero-right .hero-slide .slide-inner{
  height: 100%;
  padding: 64px 22px 56px;
  border-radius: 22px;
  border: 1px solid rgba(255,255,255,.16);
  background:
    radial-gradient(900px 420px at 12% 0%, rgba(45,226,255,.22), transparent 55%),
    radial-gradient(700px 420px at 88% 18%, rgba(255,59,212,.14), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.04));
  box-shadow: 0 26px 80px rgba(0,0,0,.55),
              inset 0 0 0 1px rgba(255,255,255,.06);
  backdrop-filter: blur(12px);
  position: relative;
  overflow: hidden;
}
.hero-right .hero-slide .slide-inner::before{
  content:"";
  position:absolute;
  inset:-2px;
  background-image: url('../assets/pattern-crown.svg');
  background-size: 280px 280px;
  background-repeat: repeat;
  opacity: .06;
  transform: rotate(8deg) scale(1.05);
  pointer-events:none;
}
.hero-right .hero-slide .slide-inner::after{
  content:"";
  position:absolute;
  top:-55%;
  left:-35%;
  width: 110%;
  height: 110%;
  background: linear-gradient(135deg, rgba(255,255,255,.22), transparent 55%);
  transform: rotate(18deg);
  opacity: .10;
  pointer-events:none;
}
.hero-right .slide-inner > *{ position: relative; z-index: 2; }

.premium-micro{
  position:absolute;
  bottom: 14px; right: 18px;
  font-size: 10px;
  letter-spacing: 2.4px;
  color: rgba(255,255,255,.42);
  text-transform: uppercase;
}

.hero-right .slide-actions{ margin-top: 14px; margin-bottom: 0; }
.hero-right .slide-text{ margin: 8px 0 14px; }
.hero-right .hero-dots{
  bottom: 10px;
  background: rgba(0,0,0,.30);
  backdrop-filter: blur(10px);
}

@media (max-width: 520px){
  .hero-right .hero-slide{ padding: 12px; }
  .hero-right .hero-slide .slide-inner{ padding: 60px 18px 54px; }
}

@media (hover:hover) and (pointer:fine){
  .hero-right .hero-slide.is-active .slide-inner{
    transition: transform .25s ease, box-shadow .25s ease;
  }
  .hero-right .hero-slide.is-active .slide-inner:hover{
    transform: translateY(-2px);
    box-shadow: 0 32px 92px rgba(0,0,0,.62), 0 0 26px rgba(45,226,255,.10);
  }
}



/* === Hero Brand Card (original look, subtle movement, fully clickable to Instagram) === */
.hero-brand-link{
  display:block;
  width:100%;
  height:100%;
  padding: 16px;
  text-decoration:none;
  color: inherit;
}
.hero-brand-link:focus-visible{
  outline: 3px solid rgba(45,226,255,.65);
  outline-offset: 3px;
  border-radius: var(--radius);
}
.hero-brand-inner{
  height:100%;
  display:flex;
  flex-direction:column;
  justify-content:center;
  padding:78px 18px 78px 18px;
  border-radius: 22px;
  border: 1px solid rgba(255,255,255,.16);
  background:
    radial-gradient(900px 420px at 12% 0%, rgba(45,226,255,.22), transparent 55%),
    radial-gradient(700px 420px at 88% 18%, rgba(255,59,212,.14), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.04));
  box-shadow: 0 26px 80px rgba(0,0,0,.55),
              inset 0 0 0 1px rgba(255,255,255,.06);
  backdrop-filter: blur(12px);
  position: relative;
  overflow: hidden;
}
.hero-brand-inner::before{
  content:"";
  position:absolute;
  inset:-2px;
  background-image: url('../assets/pattern-crown.svg');
  background-size: 280px 280px;
  background-repeat: repeat;
  opacity: .10;
  transform: rotate(8deg) scale(1.05);
  pointer-events:none;
  animation: utvPatternDrift 10s linear infinite;
}
.hero-brand-inner::after{
  content:"";
  position:absolute;
  top:-30%;
  left:-140%;
  width: 90%;
  height: 170%;
  background: linear-gradient(110deg, transparent 0%, rgba(255,255,255,.18) 45%, rgba(255,255,255,.10) 50%, transparent 60%);
  transform: rotate(18deg);
  opacity: 0;
  pointer-events:none;
  animation: utvShineSweep 6.2s ease-in-out infinite;
}
.hero-brand-inner > *{ position: relative; z-index: 2; }

@keyframes utvPatternDrift{
  from{ background-position: 0 0; }
  to{ background-position: 240px 160px; }
}
@keyframes utvShineSweep{
  0%{ transform: translateX(0) rotate(18deg); opacity: 0; }
  15%{ opacity: .18; }
  50%{ opacity: .18; }
  85%{ opacity: 0; }
  100%{ transform: translateX(320%) rotate(18deg); opacity: 0; }
}
  to{ transform: translate(2%, 2%) rotate(18deg); }
}
@keyframes utvFloat{
  0%,100%{ transform: translateY(0); }
  50%{ transform: translateY(-3px); }
}
.hero-brand-inner .slide-crown{ animation: utvFloat 6s ease-in-out infinite; }


/* === Instagram Hero Rotator (integrated like the left hero card) === */
.ig-hero-link{
  display:block;
  width:100%;
  height:100%;
  padding:0;
  text-decoration:none;
  color: inherit;
  border-radius: var(--radius);
  overflow:hidden;
}
.ig-hero-link:focus-visible{
  outline: 3px solid rgba(45,226,255,.65);
  outline-offset: 3px;
  border-radius: var(--radius);
}

.ig-hero-rotator{
  position: relative;
  height: 100%;
  min-height: 320px;
}

.ig-micro-top{
  position:absolute;
  top: 18px;
  left: 0;
  right: 0;
  text-align: center;
  font-size: 11px;
  letter-spacing: 3px;
  color: rgba(255,255,255,.46);
  text-transform: uppercase;
  pointer-events:none;
}

.ig-slide{
  position:absolute;
  inset:0;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-align:center;
  /* More top padding so the crown does not collide with the micro title */
  padding: 74px 30px 54px;
  opacity: 0;
  transition: opacity .85s ease;
}
.ig-slide.is-active{ opacity: 1; }


/* Autoplay via CSS (robust even when JS is blocked) */
.ig-hero-rotator{ --ig-cycle: 14s; }
.ig-hero-rotator .ig-slide-1{ animation: igFadeSlide1 var(--ig-cycle) infinite; }
.ig-hero-rotator .ig-slide-2{ animation: igFadeSlide2 var(--ig-cycle) infinite; }

/* JS fallback: ensure rotation works even when CSS animations are disabled */
.ig-hero-rotator.is-js .ig-slide-1,
.ig-hero-rotator.is-js .ig-slide-2{
  animation: none !important;
}


@keyframes igFadeSlide1{
  0%{ opacity: 1; }
  45%{ opacity: 1; }
  50%{ opacity: 0; }
  95%{ opacity: 0; }
  100%{ opacity: 1; }
}
@keyframes igFadeSlide2{
  0%{ opacity: 0; }
  45%{ opacity: 0; }
  50%{ opacity: 1; }
  95%{ opacity: 1; }
  100%{ opacity: 0; }
}

@media (prefers-reduced-motion: reduce){
  .ig-hero-rotator .ig-slide{ animation: none !important; transition: none !important; }
}

.ig-tagline{ margin-top: 8px; }

.ig-lines{
  margin-top: 6px;
  font-size: 22px;
  font-weight: 750;
  letter-spacing: .2px;
  line-height: 1.22;
  color: rgba(255,255,255,.92);
  text-shadow: 0 14px 40px rgba(0,0,0,.45);
}

.ig-btn{
  margin-top: 18px;
  display:inline-flex;
  align-items:center;
  gap: 12px;
  padding: 12px 18px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.14);
  background: rgba(0,0,0,.22);
  backdrop-filter: blur(10px);
  box-shadow: 0 12px 28px rgba(0,0,0,.35);
  font-weight: 800;
  color: rgba(255,255,255,.88);
}
.ig-btn .ig-badge{
  width: 30px;
  height: 30px;
  border-radius: 9px;
  display:grid;
  place-items:center;
  background: linear-gradient(135deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888);
  box-shadow: 0 0 0 1px rgba(255,255,255,.14) inset;
}
.ig-btn .ig-badge svg{ width: 18px; height: 18px; fill: #fff; }

@media (hover:hover) and (pointer:fine){
  .ig-hero-link:hover .ig-btn{ transform: translateY(-1px); }
}

@media (max-width: 520px){
  .ig-micro-top{ display:none; }
  .ig-slide{ padding: 60px 18px 52px; }
  .ig-lines{ font-size: 20px; }
}

@media (prefers-reduced-motion: reduce){
  .hero-brand-inner::before,
  .hero-brand-inner::after,
  .hero-brand-inner .slide-crown{ animation: none !important; }
}

@media (max-width: 520px){
  .hero-brand-link{ padding: 12px; }
  .hero-brand-inner{ padding: 60px 18px 54px; }
}

@media (hover:hover) and (pointer:fine){
  .hero-brand-inner{ transition: transform .25s ease, box-shadow .25s ease; }
  .hero-brand-inner:hover{
    transform: translateY(-2px);
    box-shadow: 0 32px 92px rgba(0,0,0,.62), 0 0 26px rgba(45,226,255,.10);
  }
}

/* Thumbnails – smoother snap on mobile */
.thumbs.thumbs-under{
  scroll-behavior: smooth;
  scroll-padding: 10px;
  scrollbar-width: none;
}
.thumbs.thumbs-under::-webkit-scrollbar{ display:none; }
.thumb-btn{ flex: 0 0 auto; }

/* Modal: keep perfectly centered & scrollable on small screens */
.modal{
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}
.modal-card{ margin: auto; }

/* UTV motion accessibility */
@media (prefers-reduced-motion: reduce){
  .hero-brand-inner::before,
  .hero-brand-inner::after,
  .hero-brand-inner .slide-crown{
    animation: none !important;
  }
}

/* === Variant B Glass Buttons === */

.order-actions{
  margin-top:26px;
  display:flex;
  flex-direction:column;
  gap:12px;
}
.order-actions .btn,
.order-actions .order-btn{
  padding:11px 18px;
  font-size:14px;
  font-weight:500;
  border-radius:14px;
  background: rgba(255,255,255,0.05);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border:1px solid rgba(0,255,255,0.28);
  color:#eafafa;
  transition: all .25s ease;
}
.order-actions .btn:hover,
.order-actions .order-btn:hover,
.order-actions .btn:active{
  background: rgba(0,255,255,0.12);
  box-shadow: 0 0 14px rgba(0,255,255,0.25), inset 0 0 8px rgba(0,255,255,0.15);
  transform: translateY(-1px);
}
.order-actions .form{
  border-color: rgba(255,255,255,0.25);
  color:#dcdcdc;
}

/* ===== Modal CTA Sanierung (Variante A: Apple-clean + Amazon-Logik) ===== */
    .modal-actions-sticky{
      padding-top: 14px;
      margin-top: 10px;
      background: linear-gradient(180deg, rgba(7,7,10,0) 0%, rgba(7,7,10,0.72) 22%, rgba(7,7,10,0.92) 100%);
    }
    .modal-actions-sticky .cta-panel{
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.05);
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      border-radius: 18px;
      padding: 12px;
      box-shadow: 0 18px 50px rgba(0,0,0,.45);
    }
    .modal-actions-sticky .modal-cta{
      display:flex;
      align-items:center;
      justify-content:center;
      width:100%;
      padding: 12px 14px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.04);
      color: var(--text);
      font-weight: 850;
      letter-spacing: .2px;
      transition: transform .15s ease, background .15s ease, border-color .15s ease, box-shadow .15s ease;
      user-select:none;
    }
    .modal-actions-sticky .modal-cta:hover{
      background: rgba(255,255,255,.06);
      border-color: rgba(255,255,255,.22);
      transform: translateY(-1px);
    }
    .modal-actions-sticky .modal-cta:active{
      transform: translateY(0px);
    }
    .modal-actions-sticky .modal-cta.primary{
      background: rgba(255,255,255,.14);
      border-color: rgba(255,255,255,.22);
      box-shadow: 0 12px 28px rgba(0,0,0,.35);
    }
    .modal-actions-sticky .modal-cta.primary:hover{
      background: rgba(255,255,255,.18);
      border-color: rgba(45,226,255,.38);
      box-shadow: 0 16px 34px rgba(0,0,0,.42);
    }
    .modal-actions-sticky .cta-sep{
      margin-top: 10px;
      margin-bottom: 10px;
      font-size: 12px;
      color: var(--muted);
      display:flex;
      align-items:center;
      gap: 10px;
    }
    .modal-actions-sticky .cta-sep:before,
    .modal-actions-sticky .cta-sep:after{
      content:"";
      height:1px;
      flex:1;
      background: rgba(255,255,255,.10);
    }
    .modal-actions-sticky .cta-row{
      display:flex;
      gap: 10px;
    }
    .modal-actions-sticky .modal-cta.secondary{
      flex:1;
      padding: 11px 12px;
      background: rgba(255,255,255,.03);
    }
    .modal-actions-sticky .modal-cta.link{
      margin-top: 10px;
      padding: 10px 8px;
      background: transparent;
      border: 1px solid transparent;
      justify-content:flex-start;
      font-weight: 750;
      color: rgba(255,255,255,.82);
    }
    .modal-actions-sticky .modal-cta.link:hover{
      background: rgba(255,255,255,.04);
      border-color: rgba(255,255,255,.10);
      color: rgba(255,255,255,.94);
      transform:none;
    }
    .modal-actions-sticky .order-note{
      margin: 8px 2px 0;
      font-size: 12px;
      color: rgba(255,255,255,.62);
      line-height: 1.35;
    }
    @media (max-width: 420px){
      .modal-actions-sticky .cta-row{ flex-direction: column; }
    }

    
.modal-media{
  position: relative;
  border-radius: 16px;
  overflow: hidden;
  border: 1px solid var(--border);
  background: #0e0e12;
  display:flex;
  flex-direction:column;
}
.media-stage{
  position: relative;
  min-height: 300px;
  /* stable viewport units, damit das Bild auf Mobile nicht "springt" */
  height: min(calc(68vh - 90px), 560px);
  height: min(calc(68svh - 90px), 560px);
  display:flex; align-items:center; justify-content:center;
}
    .main-image{
      width: 100%; height: 100%;
      object-fit: contain; /* schärfer & nichts abschneiden */
      display:block;
      transition: transform 160ms ease;
      transform-origin: var(--zoom-x, 50%) var(--zoom-y, 50%);
      will-change: transform;
    }
@media (prefers-reduced-motion: reduce){
      .main-image{ transition: none; }
    }
    .nav-btn{
      position: absolute; top: 50%;
      transform: translateY(-50%);
      width: 44px; height: 44px;
      border-radius: 14px;
      border: 1px solid var(--border);
      background: rgba(0,0,0,.35);
      color: #fff;
      cursor: pointer;
      display:flex; align-items:center; justify-content:center;
      font-size: 22px; font-weight: 800;
      backdrop-filter: blur(8px);
    }
    .nav-btn:hover{ border-color: rgba(45,226,255,0.55); }
    #galleryPrev{ left: 12px; }
    #galleryNext{ right: 12px; }

    .modal-side{
      padding-left: 0;
      max-height: min(68vh, 560px);
      max-height: min(68svh, 560px);
      /* Desktop: rechter Bereich bleibt im Modal, Inhalt scrollt */
      overflow: hidden;
      display:flex; flex-direction: column;
      gap: 12px;
    
      min-height: 0;}
    .modal-side-scroll{
      flex: 1 1 auto;
      overflow: auto;
      padding-right: 2px;
      display:flex; flex-direction: column;
      gap: 12px;
      -webkit-overflow-scrolling: touch;
    
      min-height: 0;
      padding-bottom: 22px;}
    .thumbs{
      display:flex; flex-wrap: wrap; gap: 10px;
      align-content: flex-start;
    }
    .thumb-btn{
      width: 54px; height: 54px; /* kompakter */
      border-radius: 14px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.03);
      padding: 0;
      cursor: pointer;
      overflow: hidden;
    }
    .thumb-btn img{ width: 100%; height: 100%; object-fit: cover; display:block; }
    .thumb-btn.active{
      border-color: var(--pop-cyan);
      box-shadow: 0 0 0 2px rgba(45,226,255,.18);
    }


/* Thumbnails unter dem Bild (Desktop + Mobile) */
.thumbs.thumbs-under{
  flex-wrap: nowrap;
  overflow-x: auto;
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;
  gap: 10px;
  padding: 10px 10px 12px;
  border-top: 1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.16);
  scroll-snap-type: x mandatory;
}
.thumbs.thumbs-under .thumb-btn{ scroll-snap-align: start; }    .modal-hint{
      margin: 0;
      color: rgba(255,255,255,0.35);
      font-size: 12px;
      line-height: 1.4;
    }

    .order-box{
      margin-top: 4px;
      padding: 12px;
      border-radius: 16px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,0.03);
    }
    .order-box .btn{ width: 100%; justify-content: center; }
    .order-note{
      margin: 10px 0 0;
      font-size: 12px;
      color: rgba(255,255,255,0.55);
      line-height: 1.35;
    }

    @media (max-width: 850px){
      .modal-body{ grid-template-columns: 1fr; }
      .modal-side{ padding-left: 0; }
      .media-stage{ min-height: 260px; }
    }


    @media (max-width: 900px){
      .hero{ grid-template-columns: 1fr; }
      .highlights{ grid-template-columns: 1fr; }
      .grid{ grid-template-columns: 1fr 1fr; }
    }
    @media (max-width: 550px){
      .grid{ grid-template-columns: 1fr; }
      .header-inner{ flex-direction: column; align-items: stretch; }
      .nav{ justify-content: flex-start; }
      .hero-left{ padding: 34px 24px; }
    }
  
.order-btn{
  display:inline-block;
  margin-top:12px;
  padding:8px 14px;
  border-radius:999px;
  background: var(--pop-cyan);
  color:#050507;
  font-size:12px;
  font-weight:700;
}
.order-btn:hover{opacity:.9}


    /* Subtle crown pattern background */
    body::before{
      content:"";
      position: fixed;
      inset: 0;
      background-image: url("assets/crown-logo.png");
      background-repeat: repeat;
      background-size: 110px 110px;
      background-position: 0 0;
      opacity: .03; /* subtle */
      pointer-events: none;
      z-index: 0;
    }
    body > *{
      position: relative;
      z-index: 1;
    }


/* Kaufablauf */
.steps{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(220px, 1fr));
  gap:16px;
  margin-top:18px;
}
.step{
  padding:16px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(10,10,10,.55);
  border-radius:16px;
  backdrop-filter: blur(8px);
}
.step h3{ margin:8px 0 6px; }
.step p{ margin:0; opacity:.92; }
.step-num{
  width:34px; height:34px;
  display:grid; place-items:center;
  border-radius:999px;
  background:rgba(0, 188, 212, .16);
  color:var(--pop-cyan);
  font-weight:800;
}
.notice{ margin-top:18px; padding: 24px 26px 26px; }
.notice h3{ margin:0 0 14px; }
.notice ul{
  list-style:none;
  padding:0;
  margin: 0 0 18px;
  display:grid;
  gap:10px;
}
.notice li{ margin:0; display:flex; gap:14px; align-items:flex-start; }
.notice li strong{ flex: 0 0 130px; }
.notice li span{ flex:1; color: rgba(255,255,255,.78); line-height: 1.45; }
.notice .order-btn{ margin: 6px 0 0; display:inline-flex; }




/* --- Order actions & form --- */
.order-actions{display:flex; gap:10px; flex-wrap:wrap; margin-bottom:10px;}
.order-actions .btn{flex:1; min-width:200px;}
.order-actions .movement-picker{flex:1 1 100%; width:100%;}

.order-box .order-note{margin-top:8px;}

.order-form{margin-top:16px;}
.form-grid{display:grid; grid-template-columns:1fr 1fr; gap:14px;}
.field{display:flex; flex-direction:column; gap:6px;}
.field label{font-weight:600;}
.field input,.field textarea,.field select{
  background:rgba(255,255,255,0.06);
  border:1px solid rgba(255,255,255,0.12);
  color:var(--text);
  border-radius:12px;
  padding:12px 12px;
  outline:none;
}
.field select:invalid{ color: var(--muted); }
/* Dropdown-Liste: bei manchen Browsern ist der Hintergrund hell (weiß).
   Deshalb Option-Text dunkel setzen, damit er immer lesbar ist. */
.field select option{ color:#111; background:#fff; }
.field select option[value=""]{ color:#777; }
.field input:focus,.field textarea:focus,.field select:focus{border-color:rgba(255,255,255,0.28);}
.field-full{grid-column:1 / -1;}
.hint{color:var(--muted); font-size:0.9rem; margin-top:6px;}
.check{display:flex; gap:10px; align-items:flex-start; color:var(--muted); font-size:0.95rem;}
.check input{margin-top:4px;}
.form-buttons{display:flex; gap:10px; flex-wrap:wrap; margin-top:14px;}
.form-buttons .btn{min-width:220px;}
.form-note{margin-top:10px; color:var(--muted);}

/* --- Selected variant preview in order form --- */
.variant-preview{
  display:none;
  margin: 0 0 14px;
  padding: 12px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.04);
  border-radius: 16px;
}
.variant-preview-inner{
  display:flex;
  gap: 12px;
  align-items:center;
  flex-wrap:wrap;
}
.variant-preview img{
  width: 120px;
  height: auto;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.16);
  background: rgba(0,0,0,.35);
}
.variant-preview .vp-text{
  font-size: 14px;
  color: var(--muted);
  line-height: 1.35;
}
.variant-preview .vp-text b{ color: var(--text); }

@media (max-width: 760px){
  .form-grid{grid-template-columns:1fr;}
  .order-actions .btn{min-width:0;}
  .form-buttons .btn{min-width:0; flex:1;}
}


    /* Modal: zwei Buttons gleich breit und kompakt */
    .order-actions{ display:flex; gap:10px; flex-wrap:wrap; }
    .order-actions .btn{ flex:1 1 220px; text-align:center; }

/* Watch details block (between price and quantity) */
.watch-details{margin:14px 0 10px;padding:12px 12px;border:1px solid rgba(255,255,255,.08);border-radius:14px;background:rgba(255,255,255,.03)}
.watch-details-title{font-size:.78rem;letter-spacing:.06em;text-transform:uppercase;opacity:.8;margin-bottom:6px}
.watch-details-main{font-size:1.02rem;font-weight:650;line-height:1.2}
.watch-details-sub{margin-top:4px;opacity:.9;font-size:.92rem;line-height:1.25}
.watch-details-code{margin-top:8px;font-size:.92rem;opacity:.9}
.watch-details-code-label{opacity:.8;margin-right:6px}

</style>
</head>
<body class="lang-en" id="top">
<header class="header">
<div class="header-inner">
<a aria-label="Back to top" class="brand" href="#top">
<div aria-label="UrbanTimeVienna Logo" class="brand-badge"></div>
<div class="brand-text">Urban Time <span>Vienna</span></div>
</a>
<nav aria-label="Main navigation" class="nav">
<a href="#kollektion">Collection</a>
<a href="#highlights">Highlights</a>
<a href="#bestellbar">Made to order</a>
<a href="#kaufablauf">How it works</a>
<a href="https://ig.me/m/urbantimevienna" rel="noopener" target="_blank">Contact</a>
<a class="reels" href="https://www.instagram.com/urbantimevienna/reels/" rel="noopener" target="_blank">Reels</a>
<div class="lang-dropdown" id="langDropdown">
<button aria-expanded="false" aria-haspopup="menu" aria-label="Choose language" class="lang-current" type="button">
<img alt="English" src="../assets/flag-gb.svg"/>
</button>
<div aria-label="Language" class="lang-menu" role="menu">
<a aria-label="Deutsch" class="lang-option" data-lang="de" href="../index.html" role="menuitem">
<img alt="Deutsch" src="../assets/flag-de.svg"/>
</a>
</div>
</div>
</nav>
</div>
</header>
<main class="container">
<section class="hero">
<div class="card hero-left">
<div class="kicker"><span class="dot"></span> Vienna • Watch Culture • Pop Art</div>
<h1>Elegance with an edge.<br/>Time with style.</h1>
<p class="sub">
          UrbanTimeVienna curates timepieces with class — minimalist, high-quality, and finished with a touch of Pop Art.
        </p>
<div class="cta-row">
<a class="btn primary" href="#kollektion">View collection</a>
</div>
</div>
<div class="card hero-right">
<a aria-label="Open Urban Time Vienna on Instagram" class="ig-hero-link" href="https://www.instagram.com/urbantimevienna/" rel="noopener" target="_blank">
<div class="ig-hero-rotator" id="igHeroRotator">
<div aria-hidden="true" class="ig-micro-top">URBAN • TIME • VIENNA</div>
<!-- Slide 1 -->
<div aria-hidden="false" class="ig-slide ig-slide-1 is-active">
<div aria-label="Urban Time Vienna" class="slide-brand">
<img alt="" aria-hidden="true" class="slide-crown" src="../assets/crown-logo.png"/>
<div class="slide-brand-text">
<div class="slide-brand-top">URBAN TIME</div>
<div class="slide-brand-bottom">VIENNA</div>
</div>
</div>
<div class="slide-text ig-tagline">Curated · Refined · Style with character</div>
</div>
<!-- Slide 2 -->
<div aria-hidden="true" class="ig-slide ig-slide-2">
<div aria-label="Urban Time Vienna" class="slide-brand">
<img alt="" aria-hidden="true" class="slide-crown" src="../assets/crown-logo.png"/>
<div class="slide-brand-text">
<div class="slide-brand-top">URBAN TIME</div>
<div class="slide-brand-bottom">VIENNA</div>
</div>
</div>
<div class="ig-lines">
          More variants<br/>
          in color &amp; design<br/>
          just DM us on Instagram
        </div>
<div aria-hidden="true" class="ig-btn">
<span aria-hidden="true" class="ig-badge">
<svg aria-hidden="true" focusable="false" viewbox="0 0 24 24">
<path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm10 2H7a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3zm-5 4.5A5.5 5.5 0 1 1 6.5 14 5.5 5.5 0 0 1 12 8.5zm0 2A3.5 3.5 0 1 0 15.5 14 3.5 3.5 0 0 0 12 10.5zM18 6.2a1.1 1.1 0 1 1-1.1 1.1A1.1 1.1 0 0 1 18 6.2z"></path>
</svg>
</span>
<span>Instagram message</span>
</div>
</div>
</div>
</a>
</div></section>
<section class="section about-section" id="about">
<div class="card about-card">
<div class="about-head">
<img alt="" aria-hidden="true" class="about-crown" src="../assets/crown-logo.png"/>
<div class="about-title">
<div class="about-eyebrow">Welcome to <span class="accent">Urban Time Vienna</span></div>
<h2>About us</h2>
</div>
</div>
<p class="about-text">
      For years, we’ve worked closely with selected <span class="accent">watch factories</span>. Over time, we defined our own
      <span class="accent">quality tiers</span> — focused on excellent <span class="accent">materials</span>, <span class="accent">precision</span>,
      and consistent QC checks.
    </p>
<p class="about-text">
      Here, <span class="accent">quality</span> matters more than quantity: we offer curated pieces — detail‑driven, refined, and carefully checked.
    </p>
<p class="about-text">
      Every watch is of course delivered as a <span class="accent">full set</span> and is <span class="accent">SUPERCLONE</span> – including box, model card, manual, and carrying bag.
    </p>
</div>
</section>
<section class="section" id="kollektion">
<div class="section-head">
<div>
<h2>In stock</h2>
<p>Pickup or shipping available — details via Instagram DM.</p>
</div>
</div>
<div class="grid">
<article class="item product-card" data-images="../royal-urban.jpg" data-variant-info='{"../royal-urban.jpg":{"codename":"Royal Urban","desc":""}}' role="button" tabindex="0">
<div class="thumb">
<img alt="Submarine Hulk" loading="lazy" src="../royal-urban.jpg"/>
</div>
<span class="tag">Price €580</span>
<h3>Submarine "HULK"</h3>
<p class="teaser">The Submariner “Hulk” earned its nickname from its intense green dial and matching green bezel. A modern take on a diving legend, it quickly became a cult icon — and is more sought-after than ever.</p>
<ul class="keypoints">
<li><b>Diver look:</b> green bezel &amp; striking dial</li>
<li><b>Everyday-ready:</b> sporty, robust, clean</li>
<li><b>Hacking seconds</b> for precise setting</li>
<li><b>Accuracy:</b> −2/+2 s/day</li>
</ul>
<details class="more">
<summary>Show technical details</summary>
<ul class="specs">
<li>Chronergy escapement</li>
<li>Nickel-phosphorus escapement</li>
<li>Blue Parachrom hairspring</li>
<li>Paraflex shock absorbers</li>
<li>28.800 A/h • 40 jewels • Ø ~33 mm</li>
</ul>
</details>
</article>
<article class="item product-card" data-images="../pop-art-chrono.jpg" role="button" tabindex="0">
<div class="thumb">
<img alt="Pop-Art Chrono" loading="lazy" src="../pop-art-chrono.jpg"/>
</div>
<span class="tag">Price €800</span>
<h3>GMT II Bruce Wayne</h3>
<p class="teaser">GMT II Bruce Wayne — a sporty-elegant GMT in a “stealth” look. Perfect for travel: a second time zone at a glance.</p>
<ul class="keypoints">
<li><b>Traveller GMT:</b> local hour hand jumps in 1-hour steps</li>
<li><b>24-hour GMT hand</b> for home/reference time</li>
<li><b>Date</b> linked to local time (quick change)</li>
<li><b>Hacking seconds</b> for precise setting</li>
</ul>
<details class="more">
<summary>Show technical details</summary>
<ul class="specs">
<li>Accuracy: −2/+2 s/day</li>
<li>Chronergy escapement</li>
<li>Nickel-phosphorus escapement</li>
<li>Blue Parachrom hairspring</li>
<li>Paraflex shock absorbers</li>
<li>28.800 A/h • 40 jewels • Ø ~33 mm</li>
</ul>
</details>
</article>
<article class="item product-card" data-images="../stephans-stealth.jpg" role="button" tabindex="0">
<div class="thumb">
<img alt="GMT II Bi‑Tone" loading="lazy" src="../stephans-stealth.jpg"/>
</div>
<span class="tag">Price €830</span>
<h3>GMT II Bi‑Tone</h3>
<p class="teaser">GMT II Bi‑Tone — the elegant GMT in a steel/gold look. Classic, bold, and ideal when you’re moving between two time zones.</p>
<ul class="keypoints">
<li><b>Bi-tone:</b> steel/gold look with strong wrist presence</li>
<li><b>Traveller GMT:</b> local hour hand jumps in 1-hour steps</li>
<li><b>24-hour GMT hand</b> for home/reference time</li>
<li><b>Date</b> linked to local time (quick change)</li>
</ul>
<details class="more">
<summary>Show technical details</summary>
<ul class="specs">
<li>Accuracy: −2/+2 s/day</li>
<li>Chronergy escapement</li>
<li>Nickel-phosphorus escapement</li>
<li>Blue Parachrom hairspring</li>
<li>Paraflex shock absorbers</li>
<li>28.800 A/h • 40 jewels • Ø ~33 mm</li>
</ul>
</details>
</article>
</div></section>
<section class="section" id="bestellbar">
<div class="section-head">
<div>
<h2>Available to order</h2>
<p>Prepayment required · approx. 14 business days lead time</p>
</div>
</div>
<div class="grid">
<article class="item product-card" data-currency="EUR" data-images="../urban_date_v1.jpg,../urban_date_v2.jpg,../urban_date_v3.jpg,../urban_date_v4.jpg,../urban_date_v5.jpg,../urban_date_v6.jpg,../urban_date_v7.jpg,../urban_date_v8.jpg,../urban_date_v9.jpg,../urban_date_v10.jpg" data-movements='[{"code": "3186", "price": 750}, {"code": "3285", "price": 830}]' data-variant-info='{"urban_date_v1.jpg": {"desc": "Black dial · Black/Grey bezel", "codename": "Bruce Wayne"}, "urban_date_v2.jpg": {"desc": "Black dial · Black/Grey bezel", "codename": "Bruce Wayne"}, "urban_date_v3.jpg": {"desc": "Black dial · Blue/Red bezel", "codename": "Pepsi"}, "urban_date_v4.jpg": {"desc": "Black dial · Blue/Red bezel", "codename": "Pepsi"}, "urban_date_v5.jpg": {"desc": "Meteorite dial · Blue/Red bezel", "codename": "Pepsi"}, "urban_date_v6.jpg": {"desc": "Meteorite dial · Blue/Red bezel", "codename": "Pepsi"}, "urban_date_v7.jpg": {"desc": "Black dial · Black/Grey bezel", "codename": "Bruce Wayne"}, "urban_date_v8.jpg": {"desc": "Black dial · Black/Grey bezel", "codename": "Bruce Wayne"}, "urban_date_v9.jpg": {"desc": "Black dial · Green bezel", "codename": ""}, "urban_date_v10.jpg": {"desc": "Green dial · Green bezel", "codename": "Hulk"}}' data-watch-codename="" data-watch-desc="Diverse Varianten" data-watch-model="Rolex GMT II" role="button" tabindex="0">
<div class="thumb"><img alt="Urban GMT – Stainless steel GMT" loading="lazy" src="../order_1_1.jpg"/></div>
<span class="tag price-tag">From: €750</span>
<h3>Urban GMT II</h3>
<p>Available on request · lead time approx. 14 business days</p>
</article>
<article class="item product-card" data-currency="EUR" data-images="../urban_daydate_v1.jpg,../urban_daydate_v2.jpg,../urban_daydate_v3.jpg,../urban_daydate_v4.jpg,../urban_daydate_v5.jpg,../urban_daydate_v6.jpg" data-movements='[{"code": "2836", "price": 750}, {"code": "3235", "price": 830}]' data-variant-info='{"../urban_daydate_v1.jpg": {"desc": "Blue dial · Fluted bezel", "codename": ""}, "../urban_daydate_v2.jpg": {"desc": "Green dial · Fluted bezel", "codename": ""}, "../urban_daydate_v3.jpg": {"desc": "Ice‑blue dial · Fluted bezel", "codename": ""}, "../urban_daydate_v4.jpg": {"desc": "Black dial · Fluted bezel", "codename": ""}, "../urban_daydate_v5.jpg": {"desc": "Meteorite dial · Fluted bezel", "codename": "Meteorite"}, "../urban_daydate_v6.jpg": {"desc": "White dial · Fluted bezel", "codename": ""}}' data-watch-codename="" data-watch-desc="Diverse Varianten" data-watch-model="Rolex Day-Date" role="button" tabindex="0">
<div class="thumb"><img alt="Vienna DayDate – Gold Day-Date" loading="lazy" src="../order_4_1.jpg"/></div>
<span class="tag price-tag">From: €750</span>
<h3>Urban Day-Date</h3>
<p>Available on request · lead time approx. 14 business days</p>
</article>
<article class="item product-card more-models" data-currency="EUR" data-images="../images/urban-daytona/deon_1.png,../images/urban-daytona/deon_2.png,../images/urban-daytona/deon_3.png,../images/urban-daytona/deon_4.png,../images/urban-daytona/deon_5.png,../images/urban-daytona/deon_6.png,../images/urban-daytona/deon_7.png,../images/urban-daytona/deon_8.png" data-movements='[{"code": "7750", "price": 800}, {"code": "4131", "price": 1050}]' data-watch-codename="" data-watch-desc="Diverse Varianten" data-watch-model="Rolex Daytona" role="button" tabindex="0">
<div class="thumb"><img alt="Urban Chrono – Chronograph" loading="lazy" src="../order_3_1.jpg"/></div>
<span class="tag price-tag">From: €800</span>
<h3>Urban Daytona</h3>
<p>Available on request · lead time approx. 14 business days</p>
</article>
<article class="item product-card" data-currency="EUR" data-images="../urban-date-glatt-01.png,../urban-date-glatt-02.png,../urban-date-glatt-03.png,../urban-date-glatt-04.png,../urban-date-glatt-05.png,../urban-date-glatt-06.png,../urban-date-glatt-07.png,../urban-date-glatt-08.png,../urban-date-glatt-09.png,../urban-date-glatt-10.png" data-movements='[{"code": "2836", "price": 720}, {"code": "3255", "price": 1050}]' role="button" tabindex="0">
<div class="thumb"><img alt="Vienna Date – Blue date model" loading="lazy" src="../order_2_1.jpg"/></div>
<span class="tag price-tag">From: €720</span>
<h3>Urban Date Smooth Bezel</h3>
<p>Available on request · lead time approx. 14 business days</p>
</article>
<article class="item product-card" data-currency="EUR" data-images="../urban_classic_v1.jpg,../urban_classic_v2.jpg,../urban_classic_v3.jpg" data-movements='[{"code": "2836", "price": 720}, {"code": "3235", "price": 830}]' role="button" tabindex="0">
<div class="thumb"><img alt="Stephans Diver – Grey Diver" loading="lazy" src="../order_5_1.jpg"/></div>
<span class="tag price-tag">From: €720</span>
<h3>Urban Yacht-Master</h3>
<p>Available on request · lead time approx. 14 business days</p>
</article>
<article class="item product-card" data-currency="EUR" data-images="../urban-date-griffel-01.jpg,../urban-date-griffel-02.jpg,../urban-date-griffel-03.jpg,../urban-date-griffel-04.jpg,../urban-date-griffel-05.jpg,../urban-date-griffel-06.jpg,../urban-date-griffel-07.jpg,../urban-date-griffel-08.jpg,../urban-date-griffel-09.jpg,../urban-date-griffel-10.jpg" data-movements='[{"code": "2836", "price": 720}, {"code": "3235", "price": 830}]' role="button" tabindex="0">
<div class="thumb"><img alt="Royal Pink – Pink Dial" loading="lazy" src="../order_6_1.jpg"/></div>
<span class="tag price-tag">From: €720</span>
<h3>Urban Date Fluted Bezel</h3>
<p>Available on request · lead time approx. 14 business days</p>
</article>
</div>
</section>
<section class="section" id="highlights">
<div class="section-head">
<div>
<h2>Highlights</h2>
<p>Curated, checked, and ready for your wrist game.</p>
</div>
</div>
<div class="highlights">
<div class="hl">
<div class="icon">✓</div>
<h3>Picked with taste</h3>
<p>Clean designs, strong details — watches that fit Vienna just as well as anywhere.</p>
</div>
<div class="hl">
<div class="icon">✦</div>
<h3>Pop Art accents</h3>
<p>Elegance stays clean — with a modern edge in cyan &amp; neon.</p>
</div>
<div class="hl">
<div class="icon">↗</div>
<h3>Always live on Instagram</h3>
<p>New drops, wrist shots and reels: everything straight from @urbantimevienna.</p>
</div>
</div>
</section>
<section class="section" id="kaufablauf">
<div class="section-head">
<div>
<h2>How the purchase works</h2>
<p>Transparent, safe and straightforward — your watch in just a few steps.</p>
</div>
</div>
<div class="steps">
<div class="step">
<div class="step-num">1</div>
<h3>Send an order request</h3>
<p>Choose a model and send your request via the form or on Instagram.</p>
</div>
<div class="step">
<div class="step-num">2</div>
<h3>Offer &amp; confirmation</h3>
<p>You’ll receive the final price, estimated lead time and all order details.</p>
</div>

<div class="step">
<div class="step-num">3</div>
<h3>Payment Processing (Advance Payment)</h3>
<p>After binding order confirmation, full payment must be completed in advance using one of the methods listed below. 
Orders are released for shipment only after confirmed receipt of payment.</p>
</div>

<div class="step">
<div class="step-num">4</div>
<h3>Shipping & Delivery</h3>
<p>Shipping takes place immediately after payment confirmation. You will receive tracking information once dispatched.</p>
</div>
</div>

<div class="card notice" style="border:1px solid rgba(45,226,255,0.4); background:rgba(45,226,255,0.05);">
<h3 style="color:#2de2ff;">Available Payment Methods</h3>

<ul style="list-style:none; padding-left:0; line-height:1.8;">
<li><strong>Credit Card</strong></li>
<li><strong>Bank Transfer</strong></li>
<li><strong>Revolut</strong></li>
<li>
<strong style="color:#2de2ff;">PayPal with Buyer Protection</strong><br>
<span style="font-size:0.9em; opacity:0.85;">
 apply.
</span>
</li>
</ul>

<p style="margin-top:15px;">
<strong>Important Notice:</strong> All payments are processed in advance only. 
By completing payment, you agree to our payment and delivery terms.
</p>

<p style="font-size:0.85em; opacity:0.75; margin-top:10px;">
Legal notice: Products are intended solely for private collection and decorative purposes. 
Commercial resale without explicit permission is prohibited.
</p>
</div>

</section>
<section class="section" id="bestellformular">
<div class="card" style="padding:24px;">
<h2>Order request</h2>
<p style="color:var(--muted); margin-top:8px;">
      You can order directly via Instagram or use the form. If you open the form from a model, fields are auto-filled.
    </p>
<div class="form-actions-top">
<a class="btn primary" href="https://ig.me/m/urbantimevienna" rel="noopener" target="_blank">Order: Instagram DM</a>
</div>
<form class="order-form" id="orderForm" novalidate="">
<div aria-live="polite" class="variant-preview" id="selectedVariantPreview">
<div class="variant-preview-inner">
<img alt="" id="selectedVariantImg" loading="lazy" src=""/>
<div class="vp-text">
<b id="selectedVariantCaption">Selected variant</b><br/>
<span>This image is automatically taken from your selection.</span>
</div>
</div>
</div>
<h3 id="bestellformular-title" class="order-form-heading">Order form</h3>
<div class="form-grid">
<div class="field field-full">
<label for="of_model">Model</label>
<input id="of_model" name="model" placeholder="e.g. Urban Time Wayne – Variant 7" required="" type="text"/>
</div>
<div class="field field-full">
<label for="of_delivery">Delivery or pickup</label>
<select id="of_delivery" name="deliveryMethod" required="">
<option disabled="" selected="" value="">Please choose…</option>
<option value="Shipping (cash on delivery)">Shipping (cash on delivery)</option>
<option value="Pickup">Pickup</option>
</select>
</div>
<div class="field field-full">
<label for="of_payment">Payment method</label>
<select id="of_payment" name="paymentMethod" required="">
<option disabled="" selected="" value="">Please choose…</option>
<option value="Bank transfer">Bank transfer</option>
<option value="PayPal (Buyer Protection)">PayPal (Buyer Protection)</option>
</select>
</div>
<div class="field">
<label for="of_name">Name</label>
<input id="of_name" name="name" placeholder="First and last name" required="" type="text"/>
</div>
<div class="field">
<label for="of_email">Email</label>
<input id="of_email" name="email" placeholder="name@email.com" required="" type="email"/>
</div>
<div class="field field-full">
<label for="of_street">Street &amp; house number</label>
<input id="of_street" name="street" placeholder="Example Street 12" required="" type="text"/>
</div>
<div class="field">
<label for="of_postal">Postal code</label>
<input id="of_postal" name="postal" placeholder="1010" required="" type="text"/>
</div>
<div class="field">
<label for="of_city">City</label>
<input id="of_city" name="city" placeholder="Vienna" required="" type="text"/>
</div>
<div class="field">
<label for="of_country">Country</label>
<input id="of_country" name="country" placeholder="Austria" required="" type="text"/>
</div>
<div class="field">
<label for="of_instagram">Instagram (optional)</label>
<input id="of_instagram" name="instagram" placeholder="@yourname" type="text"/>
</div>
<div class="field field-full">
<label for="of_phone">Phone (optional)</label>
<input id="of_phone" name="phone" placeholder="+43 …" type="tel"/>
</div>
<div class="field field-full">
<label for="of_message">Any questions? (optional)</label>
<textarea id="of_message" name="message" placeholder="Any questions? Write them here." rows="5"></textarea>
<p class="hint">Note: model/variant &amp; image are automatically sent as reference.</p>
</div>
<div class="field field-full">
<label class="check">

<span></span>
</label>
</div>
<div class="field field-full">
<label class="check">

<span><label style="font-size:0.95em; cursor:pointer;">
      <input type="checkbox" required style="margin-right:8px;">
      I have read and accept the <a href="#" id="openPrivTerms" style="color:#2de2ff; font-weight:600;">private sale terms</a>.
    </label></span>
</label>
</div>
</div>
<div class="form-buttons">
<button class="btn primary" id="orderEmailBtn" type="submit">Send request by email</button>
</div>
<p class="form-note" id="formNote">
        Note: Your request is sent directly via the form (no email app needed).
      </p>
</form>
</div>
</section>
<footer>
<div>© <span id="year"></span> Urban Time Vienna · All rights reserved</div>
<div class="footer-note">Private sale: no returns, no warranty/guarantee.</div>
</footer>
</main>
<div aria-hidden="true" class="modal" id="galleryModal">
<div aria-labelledby="galleryTitle" aria-modal="true" class="card modal-card" role="dialog">
<div class="modal-top">
<div>
<div class="modal-badges">
<span class="badge" id="modalStatus">●</span>
<span class="badge ghost" id="modalDelivery">Lieferzeit</span>
</div>
<h3 id="galleryTitle">Uhr</h3>
<p class="meta" id="galleryMeta"></p>
</div>
<button aria-label="Schließen" class="icon-btn" id="galleryClose" type="button">✕</button>
</div>
<div class="modal-body">
<div class="modal-media">
<div class="media-stage" id="mediaStage">
<button aria-label="Vorheriges Bild" class="nav-btn" id="galleryPrev" type="button">‹</button>
<img alt="" class="main-image" id="galleryMain" src=""/>
<button aria-label="Nächstes Bild" class="nav-btn" id="galleryNext" type="button">›</button>
</div>
<div class="thumbs thumbs-under" id="galleryThumbs"></div>
</div>
<div class="modal-side">
<div class="modal-side-scroll">
<div class="order-box">
<div aria-label="Preis" class="price-box">
<div class="price-kicker">Preis</div>
<div class="price-big" id="modalPrice">Auf Anfrage</div>
<div class="price-sub" id="modalPriceHint">inkl. Qualitätsstufe &amp; Uhrwerk</div>
</div>
<div aria-label="Uhrdetails" class="watch-details">
<div class="watch-details-title">Modell</div>
<div class="watch-details-main" id="modalWatchModel">–</div>
<div class="watch-details-sub" id="modalWatchDesc"></div>
<div class="watch-details-code" id="modalWatchCodeWrap" style="display:none;">
<span class="watch-details-code-label">Codename:</span>
<span id="modalWatchCode"></span>
</div>
</div>
<div aria-label="Menge" class="qty">
<div>
<div class="qty-title">Menge</div>
<div class="qty-sub">Min. 1 Stück</div>
</div>
<div aria-label="Menge auswählen" class="qty-controls" role="group">
<button aria-label="Menge verringern" class="qty-btn" id="qtyDec" type="button">−</button>
<span aria-live="polite" class="qty-val" id="qtyVal">1</span>
<button aria-label="Menge erhöhen" class="qty-btn" id="qtyInc" type="button">+</button>
</div>
</div>
<div class="movement-picker" id="movementPicker"></div>
<div aria-live="polite" class="movement-desc" id="movementDesc"></div>
<div aria-label="Sicherheit" class="trust">
<div class="trust-row">✅ Sicher &amp; diskret</div>
<div class="trust-row">✅ QC vor Versand</div>
<div class="trust-row">✅ Support via DM</div>
</div>
<div class="modal-actions-sticky">
<div class="cta-panel">
<a class="modal-cta primary" href="#bestellformular-title" id="orderPrimaryBtn">Jetzt bestellen</a>
<div class="cta-sep">Oder bestellen über</div>
<div class="cta-row">
<a class="modal-cta secondary" href="#" id="orderInstaBtn" rel="noopener" target="_blank">Instagram</a>
<a class="modal-cta secondary" href="#" id="orderTelegramBtn" rel="noopener" target="_blank">Telegram</a>
</div>
<p class="order-note" id="orderNote">Modell &amp; Menge werden automatisch kopiert.</p>
</div>
</div>
</div>
</div>
<p class="modal-hint">Tipp: Pfeiltasten ← → wechseln • ESC schließt</p>
</div>
</div>
</div>
</div>
<script>
    // Jahr im Footer
    document.getElementById("year").textContent = new Date().getFullYear();

// ===== Instagram Hero Rotator (reliable 7s swap) =====
(function(){
  const rotator = document.getElementById("igHeroRotator");
  if(!rotator) return;

  const slides = Array.from(rotator.querySelectorAll(".ig-slide"));
  if(slides.length < 2) return;

  // Use JS to rotate (works even if CSS animations are blocked / reduced motion is on)
  rotator.classList.add("is-js");

  const prefersReduced = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;
  const intervalMs = 7000;

  let idx = slides.findIndex(s => s.classList.contains("is-active"));
  if(idx < 0) idx = 0;

  function setActive(newIdx){
    slides.forEach((s,i)=>{
      const active = i === newIdx;
      s.classList.toggle("is-active", active);
      s.setAttribute("aria-hidden", active ? "false" : "true");
    });
  }

  // If reduced motion: swap without fade
  if(prefersReduced){
    slides.forEach(s => { s.style.transition = "none"; });
  }

  setActive(idx);

  setInterval(() => {
    idx = (idx + 1) % slides.length;
    setActive(idx);
  }, intervalMs);
})();


// ===== Privatverkaufsbedingungen (Popup) =====
document.addEventListener("DOMContentLoaded", () => {
  const privTermsModal = document.getElementById("privTermsModal");
  const openPrivTerms = document.getElementById("openPrivTerms");
  const closePrivTerms = document.getElementById("closePrivTerms");
  if(!privTermsModal || !openPrivTerms) return;

  const openPrivTermsModal = () => {
    privTermsModal.classList.add("open");
    privTermsModal.setAttribute("aria-hidden", "false");
  };
  const closePrivTermsModal = () => {
    privTermsModal.classList.remove("open");
    privTermsModal.setAttribute("aria-hidden", "true");
  };

  openPrivTerms.addEventListener("click", (e) => {
    e.preventDefault();
    openPrivTermsModal();
  });

  closePrivTerms?.addEventListener("click", closePrivTermsModal);

  privTermsModal.addEventListener("click", (e) => {
    if(e.target === privTermsModal) closePrivTermsModal();
  });

  document.addEventListener("keydown", (e) => {
    if(e.key === "Escape" && privTermsModal.classList.contains("open")){
      closePrivTermsModal();
    }
  });
});

    // ===== Modal Galerie (mehrere Bilder pro Uhr) =====
    const modal = document.getElementById("galleryModal");
    const mainImg = document.getElementById("galleryMain");
    const titleEl = document.getElementById("galleryTitle");
    const metaEl = document.getElementById("galleryMeta");
    const thumbsEl = document.getElementById("galleryThumbs");
    const closeBtn = document.getElementById("galleryClose");
    const prevBtn = document.getElementById("galleryPrev");
    const nextBtn = document.getElementById("galleryNext");
    const orderPrimaryBtn = document.getElementById("orderPrimaryBtn");
    const orderInstaBtn = document.getElementById("orderInstaBtn");
    const orderTelegramBtn = document.getElementById("orderTelegramBtn");
    const orderFormBtn = document.getElementById("orderFormBtn");
    const orderNote = document.getElementById("orderNote");

    // New UI bits (status/price/qty)
    const modalStatus = document.getElementById("modalStatus");
    const modalDelivery = document.getElementById("modalDelivery");
    const modalPrice = document.getElementById("modalPrice");
    const modalPriceHint = document.getElementById("modalPriceHint");
    const modalWatchModel = document.getElementById("modalWatchModel");
    const modalWatchDesc = document.getElementById("modalWatchDesc");
    const modalWatchCodeWrap = document.getElementById("modalWatchCodeWrap");
    const modalWatchCode = document.getElementById("modalWatchCode");
    const qtyDec = document.getElementById("qtyDec");
    const qtyInc = document.getElementById("qtyInc");
    const qtyVal = document.getElementById("qtyVal");

    let currentStatus = "";   // 'in_stock' | 'preorder'
    let currentDelivery = "";
    let currentBasePrice = null; // number | null
    let orderQty = 1;

    function syncQtyUI(){
      if(qtyVal) qtyVal.textContent = String(orderQty);
    }
    if(qtyDec) qtyDec.addEventListener("click", () => { orderQty = Math.max(1, orderQty - 1); syncQtyUI(); updateOrderText(); });
    if(qtyInc) qtyInc.addEventListener("click", () => { orderQty = Math.min(99, orderQty + 1); syncQtyUI(); updateOrderText(); });
    syncQtyUI();

    // Instagram DM-Link (anpassen, falls dein Username anders ist)
    const IG_DM_LINK = "https://ig.me/m/urbantimevienna";
    const TG_LINK = "https://t.me/urbantimevienna";
    
    function preloadImages(list){
      (list||[]).forEach((src)=>{ const im=new Image(); im.src=src; });
    }
// ===== Movement picker (Uhrwerk Auswahl) =====
    const movementPicker = document.getElementById("movementPicker");
    const movementDesc = document.getElementById("movementDesc");
    let currentMovements = [];
    let selectedMovement = null;

    function getSelectedMovement(){
      if(selectedMovement) return selectedMovement;
      if(Array.isArray(currentMovements) && currentMovements.length){
        selectedMovement = currentMovements[0];
        return selectedMovement;
      }
      return null;
    }

    function syncMovementSelectedUI(){
      if(!movementPicker) return;
      movementPicker.querySelectorAll(".mp-item").forEach(lbl => {
        const inp = lbl.querySelector('input[name="movement"]');
        lbl.classList.toggle("is-selected", !!(inp && inp.checked));
      });
    }

const MOVEMENT_INFO = {
  "2836": { de: { title: "2836", bullets: ["Bewährtes Automatikwerk (klassische Basis).","Gute Preis/Leistung, servicefreundlich.","Typisch kürzere Gangreserve als bei der 32xx‑Serie."]},
            en: { title: "2836", bullets: ["Proven automatic movement (classic base).","Great value, service-friendly.","Typically shorter power reserve than the 32xx series."]}},
  "3235": { de: { title: "3235", bullets: ["Neuere Generation mit modernerem Aufbau.","Deutlich längere Gangreserve und höhere Effizienz.","Stabilere Gangwerte / moderneres Datumsmodul."]},
            en: { title: "3235", bullets: ["Newer generation with a more modern architecture.","Noticeably longer power reserve and higher efficiency.","More stable timekeeping / updated date module."]}},
  "3186": { de: { title: "3186", bullets: ["GMT‑Werk (zweite Zeitzone) – ideal für Reisen.","Klassische GMT‑Generation, bewährt und zuverlässig.","Typisch kürzere Gangreserve als 3285."]},
            en: { title: "3186", bullets: ["GMT movement (second time zone) — ideal for travel.","Proven GMT generation, reliable.","Typically shorter power reserve than 3285."]}},
  "3285": { de: { title: "3285", bullets: ["Neuere GMT‑Generation mit optimierter Effizienz.","Deutlich längere Gangreserve.","Verbesserte Stabilität / modernes GMT‑Layout."]},
            en: { title: "3285", bullets: ["Newer GMT generation with improved efficiency.","Noticeably longer power reserve.","Improved stability / modern GMT layout."]}},
  "7750": { de: { title: "7750", bullets: ["Robustes Automatik‑Chronographenwerk (bewährter Klassiker).","Servicefreundlich, zuverlässig im Alltag.","Kürzere Gangreserve (je nach Ausführung)."]},
            en: { title: "7750", bullets: ["Robust automatic chronograph movement (proven classic).","Service-friendly, reliable for daily wear.","Shorter power reserve (depending on build)."]}},
  "4131": { de: { title: "4131", bullets: ["High‑End Chronograph (moderne Architektur).","Deutlich längere Gangreserve und feinere Bedienung.","Smootheres Start/Stop‑Gefühl (Säulenrad/vertikale Kupplung, je nach Ausführung)."]},
            en: { title: "4131", bullets: ["High-end chronograph (modern architecture).","Noticeably longer power reserve and smoother operation.","Smoother start/stop feel (column wheel/vertical clutch depending on build)."]}},
  "3255": { de: { title: "3255", bullets: ["Day‑Date‑Werk mit höherer Qualitäts-/Leistungsstufe.","Deutlich längere Gangreserve und höhere Effizienz.","Optimiertes Datums-/Wochentag‑Handling (je nach Ausführung)."]},
            en: { title: "3255", bullets: ["Day-Date movement at a higher spec level.","Noticeably longer power reserve and higher efficiency.","Optimized date/day handling (depending on build)."]}}
};

function updateMovementDescription(){
  if(!movementDesc) return;
  const mv = getSelectedMovement();
  if(!mv || !mv.code){
    movementDesc.style.display = "none";
    movementDesc.innerHTML = "";
    return;
  }
  const code = String(mv.code).trim();
  const info = MOVEMENT_INFO[code];
  if(!info){
    movementDesc.style.display = "none";
    movementDesc.innerHTML = "";
    return;
  }
  const lang = (document.documentElement.lang || "de").toLowerCase().startsWith("en") ? "en" : "de";
  const payload = info[lang] || info.de;
  const bullets = (payload.bullets || []).map(b => `<li>${b}</li>`).join("");
  const title = (lang === "en") ? "Movement info" : "Uhrwerk-Info";
  movementDesc.innerHTML = `<strong>${title} (${payload.title}):</strong><ul>${bullets}</ul>`;
  movementDesc.style.display = "";
}

    function renderMovementPicker(){
      if(!movementPicker) return;

      if(!Array.isArray(currentMovements) || !currentMovements.length){
        movementPicker.innerHTML = "";
        movementPicker.style.display = "none";
        selectedMovement = null;
        return;
      }

      movementPicker.style.display = "";
      const sel = getSelectedMovement();
      const titleText = "Select movement";
      const title = `<div class="mp-title">${titleText}</div>`;

      const items = currentMovements.map((m, idx) => {
        const code = String(m.code || "").trim();
        const price = Number(m.price || 0);
        const id = `mv_${code}`;
        const isSel = sel && String(sel.code) === code;
        const checked = isSel ? "checked" : (idx===0 ? "checked" : "");
        const cls = `mp-item${(isSel || idx===0) ? " is-selected" : ""}`;
        const label = `${code} · ${price} €`;
        return `
          <label class="${cls}" for="${id}">
            <input type="radio" name="movement" id="${id}" value="${code}" ${checked}>
            <span class="mp-label">${label}</span>
          </label>
        `;
      }).join("");

      movementPicker.innerHTML = title + `<div class="mp-grid">${items}</div>`;

      movementPicker.querySelectorAll('input[name="movement"]').forEach(inp => {
        inp.addEventListener("change", () => {
          const code = inp.value;
          const found = currentMovements.find(x => String(x.code) === String(code));
          selectedMovement = found || null;
          syncMovementSelectedUI();
          updateOrderText();
          updateMovementDescription();
        });
      });

      // initial highlight
      syncMovementSelectedUI();
      updateMovementDescription();
    }


    
    function openInNewTab(url){
      // Use a real anchor-click to keep the current page stable
      const a = document.createElement("a");
      a.href = url;
      a.target = "_blank";
      a.rel = "noopener";
      document.body.appendChild(a);
      a.click();
      a.remove();
    }

    function fillOrderFormFromSelection(){
      const modelEl = document.getElementById("of_model");
      const msgEl = document.getElementById("of_message");

      const file = basename(currentImages[currentIndex] || "");
      const variantNo = currentIndex + 1;
      const hasVariants = (currentImages.length || 0) > 1;

      const mv = getSelectedMovement();
      const mvTxt = mv ? ` – Movement ${mv.code} – ${mv.price} €` : ``;
      const qtyTxt = orderQty && orderQty > 1 ? ` – Qty ${orderQty}` : ``;
      const statusTxt = currentStatus === "in_stock" ? " – In stock" : (currentStatus === "preorder" ? " – Preorder" : "");
      const modelText = hasVariants ? `${currentTitle} – Variant ${variantNo}${mvTxt}${qtyTxt}${statusTxt}` : `${currentTitle}${mvTxt}${qtyTxt}${statusTxt}`;
      if(modelEl) modelEl.value = modelText;

      const defaultMsg =
`Please send the price, delivery time and availability.

If possible, I would also like a detailed video or additional photos.
Thank you!`;

      // Nachricht bleibt clean: Referenzen (Modell/Variante/Bild) werden separat mitgesendet.
      if(msgEl && !msgEl.value.trim()){
        msgEl.value = defaultMsg;
      }

      updateOrderFormVariantPreview();
    }

    function updateOrderFormVariantPreview(){
      const wrap = document.getElementById("selectedVariantPreview");
      const img = document.getElementById("selectedVariantImg");
      const cap = document.getElementById("selectedVariantCaption");
      if(!wrap || !img) return;

      const src = currentImages[currentIndex] || "";
      if(!src){
        wrap.style.display = "none";
        return;
      }

      const variantNo = currentIndex + 1;
      const hasVariants = (currentImages.length || 0) > 1;

      img.src = src;
      img.alt = hasVariants ? `${currentTitle} – Variant ${variantNo}` : `${currentTitle}`;

      if(cap){
        const mv = getSelectedMovement();
        const mvCap = mv ? ` · ${mv.code} · ${mv.price} €` : ``;
        cap.textContent = hasVariants ? `${currentTitle} · Variant ${variantNo}${mvCap}` : `${currentTitle}${mvCap}`;
      }

      wrap.style.display = "block";
    }

let currentImages = [];
    let currentIndex = 0;
    let currentTitle = "Watch";

    function basename(path){
      return (path || "").split("?")[0].split("#")[0].split("/").pop();
    }

    function copyText(text){
      if(navigator.clipboard && navigator.clipboard.writeText){
        return navigator.clipboard.writeText(text);
      }
      return new Promise((resolve, reject) => {
        try{
          const ta = document.createElement("textarea");
          ta.value = text;
          ta.style.position = "fixed";
          ta.style.opacity = "0";
          document.body.appendChild(ta);
          ta.focus();
          ta.select();
          const ok = document.execCommand("copy");
          document.body.removeChild(ta);
          ok ? resolve() : reject();
        }catch(e){ reject(e); }
      });
    }

    
    
    async function getImageBlobFromSrc(src){
      return new Promise((resolve, reject) => {
        try{
          const img = new Image();
          img.crossOrigin = "anonymous";
          img.onload = () => {
            try{
              const c = document.createElement("canvas");
              c.width = img.naturalWidth || img.width;
              c.height = img.naturalHeight || img.height;
              const ctx = c.getContext("2d");
              ctx.drawImage(img, 0, 0);
              c.toBlob((blob) => {
                if(blob) resolve(blob);
                else reject(new Error("toBlob failed"));
              }, "image/png");
            }catch(e){ reject(e); }
          };
          img.onerror = (e) => reject(e);
          img.src = src;
        }catch(e){ reject(e); }
      });
    }

    async function copyTextAndMaybeImage(text, imageSrc){
      let textCopied = false;
      try{
        await copyText(text);
        textCopied = true;
      }catch(e){
        textCopied = false;
      }

      if(!(navigator.clipboard && navigator.clipboard.write && window.ClipboardItem)){
        return { textCopied, imageCopied: false };
      }

      try{
        const blob = await getImageBlobFromSrc(imageSrc);
        const items = [
          new ClipboardItem({ "text/plain": new Blob([text], { type: "text/plain" }) }),
          new ClipboardItem({ [blob.type || "image/png"]: blob })
        ];
        await navigator.clipboard.write(items);
        return { textCopied: true, imageCopied: true };
      }catch(e){
        return { textCopied, imageCopied: false };
      }
    }


    function updateOrderText(){
      const src = currentImages[currentIndex] || "";
      const file = basename(src);
      const variantNo = currentIndex + 1;
      const hasVariants = (currentImages.length || 0) > 1;

      const qtyLine = `Qty: ${orderQty}`;
      const statusLine = currentStatus === "in_stock"
        ? "Status: In stock"
        : (currentStatus === "preorder" ? "Status: Preorder" : "");
      const deliveryLine = currentDelivery ? `Delivery: ${currentDelivery}` : "";

      const mv = getSelectedMovement();
      const mvLine = mv ? `Movement: ${mv.code}` : "";
      const unitPrice = mv && typeof mv.price === "number" && mv.price > 0 ? mv.price : currentBasePrice;
      const totalPrice = (typeof unitPrice === "number" && unitPrice > 0) ? (unitPrice * orderQty) : null;
      const priceLine = totalPrice ? `Price: ${totalPrice} €` : "";

      const msg = `Order request: ${currentTitle}
Variant: ${hasVariants ? variantNo : "-"}
Image: ${file}
${qtyLine}
${mvLine}
${priceLine}
${statusLine}
${deliveryLine}

Please send the price, delivery time and availability.`;

      // Keep modal summary in sync
      if(modalPrice){
        modalPrice.textContent = totalPrice ? `${totalPrice} €` : "On request";
      }
      if(modalPriceHint){
        modalPriceHint.textContent = (currentStatus === "in_stock")
          ? "Pickup or shipping available"
          : "Prepayment · ~14 business days";
      }

      orderInstaBtn.href = IG_DM_LINK;
      orderInstaBtn.setAttribute("aria-label", `Open Instagram DM — ${currentTitle}`);
      orderInstaBtn.textContent = "Order: Instagram DM";

      if(orderTelegramBtn){
        orderTelegramBtn.href = TG_LINK;
        orderTelegramBtn.setAttribute("aria-label", `Open Telegram — ${currentTitle}`);
        orderTelegramBtn.textContent = "Telegram";
      }

      if(orderPrimaryBtn){
        orderPrimaryBtn.setAttribute("aria-label", `Order now — ${currentTitle}`);
        orderPrimaryBtn.textContent = "Order now";
      }


      if(orderFormBtn){
        orderFormBtn.setAttribute("aria-label", `Go to form — ${currentTitle}`);
      }

      orderNote.textContent = "Click opens chat directly.";

      // keep movement info in sync
      updateMovementDescription();

      
      if(orderPrimaryBtn){
        orderPrimaryBtn.onclick = (e) => {
          // Close modal and jump to order form (same behavior as DE)
          e.preventDefault();
          fillOrderFormFromSelection();
          closeGallery();
          const sec = document.getElementById("bestellformular-title") || document.getElementById("bestellformular") || document.getElementById("orderForm") || document.querySelector("form#orderForm, .form-wrap form, .form-grid")?.closest("section, .form-wrap") || document.querySelector("form");
          if(sec){
            sec.scrollIntoView({behavior:"smooth", block:"start"});
            setTimeout(() => {
              const f = document.getElementById("of_name") || document.getElementById("of_email");
              if(f) f.focus({preventScroll:true});
            }, 500);
          }else{
            // fallback: update hash
            location.hash = "#bestellformular";
          }
        };
      }

orderInstaBtn.onclick = (e) => {
        e.preventDefault();
        closeGallery();
        openInNewTab(IG_DM_LINK);
      };

      if(orderFormBtn){
        orderFormBtn.onclick = (e) => {
          e.preventDefault();
          fillOrderFormFromSelection();
          closeGallery();
          const sec = document.getElementById("bestellformular-title") || document.getElementById("bestellformular") || document.getElementById("orderForm") || document.querySelector("form#orderForm, .form-wrap form, .form-grid")?.closest("section, .form-wrap") || document.querySelector("form");
          if(sec){
            sec.scrollIntoView({behavior:"smooth", block:"start"});
            setTimeout(() => {
              const f = document.getElementById("of_name") || document.getElementById("of_email");
              if(f) f.focus({preventScroll:true});
            }, 500);
          }
        };
      }
      updateOrderFormVariantPreview();
    }



function applyVariantInfo(){
  if(!currentCard) return;

  const formatLines = (desc, code) => {
    const d = (desc || "").trim();
    const c = (code || "").trim();

    // Split description into dial / bezel (or similar) parts.
    // Supports middle dot variants and bullet separators.
    const parts = d
      ? d.split(/\s*[·•]\s*/).map(s => s.trim()).filter(Boolean)
      : [];

    const lines = [];
    if(c) lines.push(c);
    if(parts.length){
      // Always keep first two parts as separate lines (dial then bezel) if present.
      lines.push(parts[0]);
      if(parts[1]) lines.push(parts[1]);
      // If there are more parts, append them in same line as the last one (avoid too tall blocks).
      if(parts.length > 2){
        lines[lines.length-1] = lines[lines.length-1] + " · " + parts.slice(2).join(" · ");
      }
    }else if(d){
      lines.push(d);
    }
    return lines;
  };

  const setDesc = (lines) => {
    if(!modalWatchDesc) return;
    const esc = (s) => String(s).replace(/[&<>"']/g, ch => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[ch]));
    modalWatchDesc.innerHTML = (lines || []).map(esc).join("<br>");
  };

  // We now display the codename as the FIRST line inside the description block.
  // The separate "Codename:" row is hidden for a cleaner 2/3-line layout.
  if(modalWatchCodeWrap){
    modalWatchCodeWrap.style.display = "none";
  }
  if(modalWatchCode) modalWatchCode.textContent = "";

  const raw = currentCard.dataset.variantInfo;

  // If no mapping exists, keep the base description/codename from the product card
  if(!raw){
    const baseDesc = (currentCard.dataset.watchDesc || "").trim();
    const baseCode = (currentCard.dataset.watchCodename || "").trim();
    setDesc(formatLines(baseDesc, baseCode));
    return;
  }

  let map = null;
  try{ map = JSON.parse(raw); }catch(e){ return; }

  const file = basename(currentImages[currentIndex] || "");
  const info = (map && (map[file] || map[String(currentIndex+1)])) || null;
  if(!info) return;

  const desc = (typeof info.desc === "string") ? info.desc : "";
  const code = (info.codename || "").trim();
  setDesc(formatLines(desc, code));
}
function setIndex(i){
      if(!currentImages.length) return;
      currentIndex = (i + currentImages.length) % currentImages.length;
      mainImg.src = currentImages[currentIndex];
      mainImg.alt = `${currentTitle} – Image ${currentIndex + 1}`;
      // Active Thumb
      [...thumbsEl.children].forEach((btn, idx) => {
        btn.classList.toggle("active", idx === currentIndex);
      });
      updateOrderText();
      applyVariantInfo();
    }

    function openGallery(card){
      currentCard = card;
      // Context (in stock vs preorder)
      const section = card.closest("section");
      const secId = section ? section.id : "";
      currentStatus = (secId === "kollektion") ? "in_stock" : (secId === "bestellbar" ? "preorder" : "");
      currentDelivery = (secId === "kollektion") ? "Available now" : (secId === "bestellbar" ? "~14 business days" : "");

      // Reset qty each time a product is opened
      orderQty = 1;
      syncQtyUI();

      const images = (card.dataset.images || "")
        .split(",")
        .map(s => s.trim())
        .filter(Boolean);

      if(!images.length) return;

      currentImages = images;

      
      preloadImages(images);
// Movements (Uhrwerk) optional (nur bei 'Auf Bestellung')
      currentMovements = [];
      selectedMovement = null;
      try{
        currentMovements = JSON.parse(card.dataset.movements || "[]") || [];
      }catch(e){ currentMovements = []; }
      if(Array.isArray(currentMovements) && currentMovements.length){
        selectedMovement = currentMovements[0];
      }
      renderMovementPicker();

      const title = (card.querySelector("h3")?.textContent || "Watch").trim();
      const meta = (card.querySelector(".tag")?.textContent || "").trim();

      // Base price from tag
      currentBasePrice = null;
      const pm = meta.match(/(\d+[\.,]?\d*)/);
      if(pm){
        const n = Number(String(pm[1]).replace(",","."));
        if(!isNaN(n) && n > 0) currentBasePrice = Math.round(n);
      }

      currentTitle = title;

      titleEl.textContent = title;
      metaEl.textContent = meta;

      // Watch details (fixed per product card)
      const wModel = (card.dataset.watchModel || "").trim();
      const wDesc = (card.dataset.watchDesc || "").trim();
      const wCode = (card.dataset.watchCodename || "").trim();

      if(modalWatchModel){
        modalWatchModel.textContent = wModel || title;
      }
      if(modalWatchDesc){
        modalWatchDesc.textContent = wDesc || "";
      }
      if(modalWatchCodeWrap && modalWatchCode){
        if(wCode){
          modalWatchCode.textContent = wCode;
          modalWatchCodeWrap.style.display = "";
        }else{
          modalWatchCode.textContent = "";
          modalWatchCodeWrap.style.display = "none";
        }
      }

      // Badges
      if(modalStatus){
        if(currentStatus === "in_stock"){
          modalStatus.textContent = "🟢 In stock";
          modalStatus.classList.remove("warn");
          modalStatus.classList.add("good");
        }else if(currentStatus === "preorder"){
          modalStatus.textContent = "🟡 Preorder";
          modalStatus.classList.remove("good");
          modalStatus.classList.add("warn");
        }else{
          modalStatus.textContent = "●";
          modalStatus.classList.remove("good","warn");
        }
      }
      if(modalDelivery){
        modalDelivery.textContent = currentDelivery ? `⏱️ ${currentDelivery}` : "";
      }

      thumbsEl.innerHTML = "";
      images.forEach((src, idx) => {
        const btn = document.createElement("button");
        btn.type = "button";
        btn.className = "thumb-btn";
        btn.setAttribute("aria-label", `Show image ${idx + 1}`);

        const img = document.createElement("img");
        img.src = src;
        img.alt = `${title} – Image ${idx + 1}`;
        img.loading = "lazy";

        btn.appendChild(img);
        btn.addEventListener("click", () => setIndex(idx));
        thumbsEl.appendChild(btn);
      });

      setIndex(0);

      modal.classList.add("open");
      modal.setAttribute("aria-hidden", "false");
      document.body.style.overflow = "hidden";
    }

    // ===== Öffnen des Varianten/Bestell-Popups =====
    // Klick auf Karte oder Bild öffnet die Gallery/Bestell-Ansicht
    
    // Add small status badges on cards (UX)
    function addBadgeToCard(card, text, cls){
      const thumb = card.querySelector(".thumb");
      if(!thumb || thumb.querySelector(".card-badge")) return;
      const b = document.createElement("span");
      b.className = `card-badge ${cls||""}`;
      b.textContent = text;
      thumb.appendChild(b);
    }
    document.querySelectorAll("#kollektion .product-card").forEach(c => addBadgeToCard(c, "🟢 In stock", "good"));
    document.querySelectorAll("#bestellbar .product-card").forEach(c => addBadgeToCard(c, "🟡 Preorder", "warn"));

    document.querySelectorAll(".product-card").forEach((card) => {
      // Bild/Thumbnail
      const thumb = card.querySelector(".thumb");
      if (thumb) {
        thumb.style.cursor = "pointer";
        thumb.addEventListener("click", (e) => {
          e.preventDefault();
          e.stopPropagation();
          openGallery(card);
        });
      }

      // Ganze Karte (wichtig am Handy, wenn man nicht exakt aufs Bild tippt)
      card.style.cursor = "pointer";
      card.addEventListener("click", (e) => {
        const t = (e.target && e.target.nodeType === 1) ? e.target : null;
        if (t && t.closest("a,button,details,summary,input,label,select,textarea")) return;
        openGallery(card);
      });

      // Tastatur (optional)
      card.setAttribute("tabindex", card.getAttribute("tabindex") || "0");
      card.addEventListener("keydown", (e) => {
        if (e.key === "Enter" || e.key === " ") {
          const t = (e.target && e.target.nodeType === 1) ? e.target : null;
          if (t && t.closest("a,button,details,summary,input,label,select,textarea")) return;
          e.preventDefault();
          openGallery(card);
        }
      });
    });



    function closeGallery(){
      modal.classList.remove("open");
      modal.setAttribute("aria-hidden", "true");
      document.body.style.overflow = "";
    }




          // Close / navigation handlers for gallery modal
    if(modal){
      if(closeBtn){
        closeBtn.addEventListener("click", (e) => { e.preventDefault(); closeGallery(); });
      }
      modal.addEventListener("click", (e) => { if(e.target === modal) closeGallery(); });

      if(prevBtn){
        prevBtn.addEventListener("click", (e) => { e.preventDefault(); setIndex(currentIndex - 1); });
      }
      if(nextBtn){
        nextBtn.addEventListener("click", (e) => { e.preventDefault(); setIndex(currentIndex + 1); });
      }

      document.addEventListener("keydown", (e) => {
        if(!modal.classList.contains("open")) return;
        if(e.key === "Escape"){
          e.preventDefault();
          closeGallery();
        }else if(e.key === "ArrowLeft"){
          e.preventDefault();
          setIndex(currentIndex - 1);
        }else if(e.key === "ArrowRight"){
          e.preventDefault();
          setIndex(currentIndex + 1);
        }
      });
    }

// ===== Language Dropdown (DE / EN) =====

    (function () {
      try {
        var dd = document.getElementById("langDropdown");
        if (!dd) return;

        var btn = dd.querySelector(".lang-current");
        var isOpen = function(){ return dd.classList.contains("is-open"); };
        var setOpen = function(open){
          dd.classList.toggle("is-open", open);
          if(btn) btn.setAttribute("aria-expanded", open ? "true" : "false");
        };

        if(btn){
          btn.addEventListener("click", function (e) {
            e.preventDefault();
            e.stopPropagation();
            setOpen(!isOpen());
          });
        }

        // close on outside click / ESC
        document.addEventListener("click", function(){ setOpen(false); });
        document.addEventListener("keydown", function(e){
          if(e.key === "Escape") setOpen(false);
        });

        dd.querySelectorAll("[data-lang]").forEach(function(a){
          a.addEventListener("click", function(){
            try { localStorage.setItem("utv_lang", a.getAttribute("data-lang")); } catch (e) {}
          });
        });
      } catch (e) {}
    })();


// ===== Bestellformular: Anfrage wirklich senden (Apps Script + Fallback) =====
(function(){
  const orderForm = document.getElementById("orderForm");
  if(!orderForm) return;

  // Google Apps Script Web-App (sendet Admin-Mail + Kundenbestätigung)
  const APPS_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbyFppgJ02rlkF34bMitHHSkPVxDREqywXZk18PGddRR_mmQsjN9Kqhvrcz5MIwLsJKP/exec";
  const APPS_SCRIPT_TOKEN = "uTv_2026!9xA#kP3zQ1";

  // Fallback: öffnet Mailprogramm, falls Webhook in der lokalen Vorschau geblockt ist
  const FALLBACK_MAIL_TO = "urbantimevienna@gmail.com";

  const btn = document.getElementById("orderEmailBtn");
  const noteEl = document.getElementById("formNote");

  const isEN = (document.documentElement.lang || "de").toLowerCase().startsWith("en");
  const T = {
    sending: isEN ? "Sending…" : "Sende…",
    sendNow: isEN ? "Send request via email" : "Anfrage per E‑Mail senden",
    sent: isEN ? "Sent ✅" : "Gesendet ✅",
    noteSending: isEN ? "Sending request…" : "Sende Anfrage…",
    noteSent: isEN ? "Request sent ✅ You'll receive a confirmation email." : "Anfrage gesendet ✅ Du bekommst eine Bestätigung per E‑Mail.",
    noteChecks: isEN ? "Please accept the private sale terms." : "Bitte Privatverkaufsbedingungen anhaken.",
    noteFail: isEN ? "Sending failed. Please use Instagram DM or send via your email app." : "Senden fehlgeschlagen. Bitte nutze Instagram DM oder sende über dein E‑Mail‑Programm."
  };

  function setNote(t){ if(noteEl) noteEl.textContent = t; }

  function v(id){
    const el = document.getElementById(id);
    return el ? String(el.value || "").trim() : "";
  }
  function checked(id){
    const el = document.getElementById(id);
    return !!(el && el.checked);
  }
  function safeAbsUrl(src){
    if(!src) return "";
    try{
      return new URL(src, window.location.href).href;
    }catch(e){
      return src;
    }
  }

  function getSelectedMeta(){
    const imgEl = document.getElementById("selectedVariantImg");
    const capEl = document.getElementById("selectedVariantCaption");
    const imgSrc = imgEl ? (imgEl.getAttribute("src") || "") : "";
    const imageUrl = safeAbsUrl(imgSrc);
    const imageLabel = capEl ? String(capEl.textContent || "").trim() : "";
    return { imageUrl, imageLabel };
  }

  function buildMailtoBody(payload){
    const lines = [];
    lines.push(isEN ? "Order request (web form)" : "Bestellanfrage (Webformular)");
    lines.push("");
    if(payload.model) lines.push((isEN ? "Model: " : "Modell: ") + payload.model);
    if(payload.deliveryMethod) lines.push((isEN ? "Delivery/Pickup: " : "Lieferung/Abholung: ") + payload.deliveryMethod);
    if(payload.paymentMethod) lines.push((isEN ? "Payment method: " : "Zahlungsmethode: ") + payload.paymentMethod);
    if(payload.imageLabel) lines.push((isEN ? "Selected: " : "Auswahl: ") + payload.imageLabel);
    if(payload.imageUrl) lines.push((isEN ? "Image URL: " : "Bild-URL: ") + payload.imageUrl);
    lines.push("");
    lines.push("---");
    lines.push((isEN ? "Name: " : "Name: ") + payload.name);
    lines.push((isEN ? "Email: " : "E‑Mail: ") + payload.email);
    if(payload.street || payload.postal || payload.city || payload.country){
      lines.push(isEN ? "Address:" : "Adresse:");
      if(payload.street) lines.push(payload.street);
      const pc = (payload.postal + " " + payload.city).trim();
      if(pc) lines.push(pc);
      if(payload.country) lines.push(payload.country);
    }
    if(payload.instagram) lines.push("Instagram: " + payload.instagram);
    if(payload.phone) lines.push((isEN ? "Phone: " : "Telefon: ") + payload.phone);
    if(payload.message){
      lines.push("");
      lines.push(isEN ? "Message:" : "Nachricht:");
      lines.push(payload.message);
    }
    return lines.join("\n");
  }

  async function send(){
    // HTML validation + Checkbox-Doublecheck
    if(!orderForm.checkValidity()){
      orderForm.reportValidity();
      return;
    }
    if((document.getElementById("of_terms") && !checked("of_terms")) || (document.getElementById("of_privterms") && !checked("of_privterms"))){
      setNote(T.noteChecks);
      return;
    }

    const payloadBase = {
      token: APPS_SCRIPT_TOKEN,
      language: (isEN ? "en" : "de"),
      name: v("of_name"),
      email: v("of_email"),
      instagram: v("of_instagram"),
      phone: v("of_phone"),
      deliveryMethod: v("of_delivery"),
      paymentMethod: v("of_payment"),
      street: v("of_street"),
      postal: v("of_postal"),
      city: v("of_city"),
      country: v("of_country"),
      address: [v("of_street"), (v("of_postal")+" "+v("of_city")).trim(), v("of_country")].filter(Boolean).join("\n"),
      model: v("of_model"),
      variant: "", // optional
      message: v("of_message")
    };
    const meta = getSelectedMeta();
    const payload = Object.assign({}, payloadBase, meta);

    if(btn){ btn.disabled = true; btn.textContent = T.sending; }
    setNote(T.noteSending);

    // In der lokalen Vorschau (file://) blockieren manche Browser Fetch → direkt Fallback anbieten.
    const isFile = (location && location.protocol === "file:");
    if(isFile){
      try{
        const subject = encodeURIComponent((isEN ? "Order request – " : "Bestellanfrage – ") + (payload.model || "Urban Time Vienna"));
        const body = encodeURIComponent(buildMailtoBody(payload));
        window.location.href = "mailto:" + FALLBACK_MAIL_TO + "?subject=" + subject + "&body=" + body;
        setNote(T.noteSent);
        if(btn){ btn.textContent = T.sent; }
        return;
      }catch(e){
        // continue to fetch attempt
      }
    }

    try{
      if(!APPS_SCRIPT_URL){
        throw new Error("Missing APPS_SCRIPT_URL");
      }
      // no-cors => kein Preflight, stabil auf Static Hosting. Response bleibt opaque.
      await fetch(APPS_SCRIPT_URL, {
        method: "POST",
        mode: "no-cors",
        headers: { "Content-Type": "text/plain;charset=utf-8" },
        body: JSON.stringify(payload),
      });

      setNote(T.noteSent);
      if(btn){ btn.textContent = T.sent; }
    }catch(err){
      console.error(err);
      setNote(T.noteFail);
      if(btn){ btn.disabled = false; btn.textContent = T.sendNow; }

      // Fallback: Mail-App öffnen
      try{
        const subject = encodeURIComponent((isEN ? "Order request – " : "Bestellanfrage – ") + (payload.model || "Urban Time Vienna"));
        const body = encodeURIComponent(buildMailtoBody(payload));
        window.location.href = "mailto:" + FALLBACK_MAIL_TO + "?subject=" + subject + "&body=" + body;
      }catch(e){}
    }
  }

  // Wichtig: Submit abfangen, damit die Seite NICHT nach oben springt.
  orderForm.addEventListener("submit", function(e){
    e.preventDefault();
    e.stopPropagation();
    send();
  });
})();

</script>
<div aria-hidden="true" class="modal terms-modal" id="privTermsModal">
<div class="modal-card">
<div class="modal-top">
<h3>Private sale terms</h3>
<button aria-label="Close" class="icon-btn" id="closePrivTerms" type="button">×</button>
</div>
<div class="modal-body">
<div class="terms-content">
<p><strong>Important notice:</strong> Urban Time Vienna sells as a <strong>private seller</strong> (not a commercial dealer).</p>
<ul>
<li><strong>Private sale:</strong> No returns, no exchanges.</li>
<li><strong>No warranty/guarantee:</strong> Sold “as seen” / “as described”, to the extent permitted by law.</li>
<li><strong>Deposit:</strong> €300 to reserve; credited towards the purchase price.</li>
<li><strong>Delivery/pickup:</strong> Cash on delivery shipment or personal pickup (by arrangement).</li>
<li><strong>Product details:</strong> Model/variant/photos are for reference; details may vary slightly depending on availability.</li>
<li><strong>Conclusion of sale:</strong> The sale is only concluded after confirmation of the order/request.</li>
</ul>
<p>By ticking the box, you confirm that you have read and accept these terms.</p>
</div>
</div>
</div>
</div>
<!-- Floating Contact Buttons -->
<div class="utv-float">
<!-- Telegram -->
<a aria-label="Open Telegram" class="utv-float-btn utv-tg" href="https://t.me/urbantimevienna" rel="noopener" target="_blank">
<svg aria-hidden="true" viewbox="0 0 24 24">
<path d="M22.8 3.2c-.3-.3-.8-.4-1.2-.2L2.9 10.2c-.6.2-1 .8-.9 1.4 0 .6.4 1.1 1 1.3l4.6 1.8 1.8 5.7c.2.5.6.9 1.1 1 .1 0 .2.1.3.1.4 0 .8-.2 1.1-.5l2.5-2.6 4.7 3.5c.3.2.6.3.9.3.2 0 .4 0 .6-.1.5-.2.9-.7 1-1.2l3-17.7c.1-.5 0-1-.4-1.4zM9.6 14.6l8.9-8.2-10.9 6.9-3.6-1.4L19.9 5.7 9.6 14.6zm.7 1.6l-.3 2.9-.9-2.9 9.9-9.1-8.7 9.1zM19.5 19l-5.1-3.8 7.9-8.1-2.8 11.9z"></path>
</svg>
</a>
<!-- Instagram -->
<a aria-label="Open Instagram" class="utv-float-btn utv-ig" href="https://www.instagram.com/urbantimevienna/" rel="noopener" target="_blank">
<svg aria-hidden="true" viewbox="0 0 24 24">
<path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm10 2H7a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3z"></path>
<path d="M12 7a5 5 0 1 1 0 10 5 5 0 0 1 0-10zm0 2a3 3 0 1 0 0 6 3 3 0 0 0 0-6z"></path>
<circle cx="17.5" cy="6.5" r="1"></circle>
</svg>
</a>
</div>
<style>
  .utv-float{
    position:fixed;
    right:16px;
    bottom:16px;
    display:flex;
    flex-direction:column;
    gap:10px;
    z-index:9999;
  }
  .utv-float-btn{
    width:52px;
    height:52px;
    border-radius:999px;
    display:grid;
    place-items:center;
    text-decoration:none;
    box-shadow:0 10px 25px rgba(0,0,0,.22);
    border:1px solid rgba(255,255,255,.12);
  }
  .utv-float-btn svg{
    width:26px;
    height:26px;
    fill:#fff;
    display:block;
  }
  .utv-tg{ background:#229ED9; }
  .utv-ig{ background: radial-gradient(circle at 30% 110%, #fdf497 0%, #fdf497 5%, #fd5949 45%, #d6249f 60%, #285AEB 90%); }

  @media (max-width: 480px){
    .utv-float{ right:12px; bottom:12px; }
    .utv-float-btn{ width:48px; height:48px; }
    .utv-float-btn svg{ width:24px; height:24px; }
  }

/* === Variant B Glass Buttons === */

.order-actions{
  margin-top:26px;
  display:flex;
  flex-direction:column;
  gap:12px;
}
.order-actions .btn,
.order-actions .order-btn{
  padding:11px 18px;
  font-size:14px;
  font-weight:500;
  border-radius:14px;
  background: rgba(255,255,255,0.05);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border:1px solid rgba(0,255,255,0.28);
  color:#eafafa;
  transition: all .25s ease;
}
.order-actions .btn:hover,
.order-actions .order-btn:hover,
.order-actions .btn:active{
  background: rgba(0,255,255,0.12);
  box-shadow: 0 0 14px rgba(0,255,255,0.25), inset 0 0 8px rgba(0,255,255,0.15);
  transform: translateY(-1px);
}
.order-actions .form{
  border-color: rgba(255,255,255,0.25);
  color:#dcdcdc;
}


</style>
<!-- /Floating Contact Buttons -->

<script>
document.addEventListener("click", function(e){
  const btn = e.target && e.target.closest ? e.target.closest("#orderPrimaryBtn") : null;
  if(!btn) return;
  e.preventDefault();
  try{ if(typeof fillOrderFormFromSelection === "function"){ fillOrderFormFromSelection(); } }catch(_){}
  try{ if(typeof closeGallery === "function"){ closeGallery(); } }catch(_){}
  document.body.classList.remove("no-scroll","modal-open","lock-scroll");
  const sec = document.getElementById("bestellformular-title") || document.getElementById("bestellformular") || document.getElementById("orderForm") || document.querySelector("form#orderForm, .form-wrap form, .form-grid")?.closest("section, .form-wrap") || document.querySelector("form");
  if(sec){ sec.scrollIntoView({behavior:"smooth", block:"start"}); }
});
</script>

</body>
</html>
